{
  "date" : "2022-05-09",
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "description":"เรียนรู้เกี่ยวกับรูปแบบไฟล์ PYC และ API ที่สามารถสร้างและเปิดไฟล์ PYC",
  "title" :"รูปแบบไฟล์ PYC- ไฟล์ที่คอมไพล์ด้วย Python",
  "linktitle" : "PYC",
  "menu" : {
    "docs" : {
      "parent" : "executable"
}
},
  "lastmod" : "2022-05-09"
}

## ไฟล์ PYC คืออะไร??

ไฟล์ PYC เป็นไฟล์เอาต์พุตที่คอมไพล์ซึ่งสร้างจากซอร์สโค้ดที่เขียนด้วยภาษาโปรแกรม Python เมื่อรันไฟล์ PY โดยใช้ตัวแปล Python ไฟล์นั้นจะถูกแปลงเป็น bytecode เพื่อดำเนินการ ในเวลาเดียวกัน รหัสไบต์ที่คอมไพล์แล้วจะถูกบันทึกเป็นไฟล์ .pyc เพื่อนำมาใช้ใหม่จากแคชในภายหลัง หากมี

## โครงสร้างของรูปแบบไฟล์ PYC

ไฟล์ PYC อยู่ในรหัสไบต์และข้อกำหนดรูปแบบไฟล์ไม่เปิดเผยต่อสาธารณะ อย่างไรก็ตาม การตรวจสอบโดยบางแหล่งแสดงให้เห็นว่า [โครงสร้างของไฟล์ PYC](https://nedbatchhelder.com/blog/200804/the_structure_of_pyc_files.html#:~:text=pyc%20file%20is%20a%20binary,A% 20marshalled%20code%20object.) ประกอบด้วย:

* `A สี่ไบต์เวทย์มนตร์ number`r - เพียงสองไบต์ที่เปลี่ยนแปลงตามการเปลี่ยนแปลงรหัสมาร์แชลลิ่งแต่ละครั้ง และตามด้วย 0d0a สองไบต์
* `การประทับเวลาการแก้ไขสี่ไบต์` - การประทับเวลาการแก้ไข Unix ของไฟล์ต้นฉบับที่สร้าง .pyc เพื่อให้สามารถคอมไพล์ใหม่ได้หากต้นฉบับมีการเปลี่ยนแปลง
* `A marshalled code object` - ผลลัพธ์ของ marshal.dump ของ code object ที่เป็นผลมาจากการคอมไพล์ไฟล์ต้นฉบับ

## อ้างอิง

* [โครงสร้างของไฟล์ .pyc](https://nedbatchelder.com/blog/200804/the_structure_of_pyc_files.html#:~:text=pyc%20file%20is%20a%20binary,A%20marshalled%20code%20object.)

