{
  "date" : "2020-03-16",
  "keywords" :[ "DWF", "รูปแบบไฟล์", "เปิด", "อ่าน", "สร้าง", "CAD" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "description" :"เรียนรู้เกี่ยวกับรูปแบบไฟล์ DWF และ API ที่สามารถสร้างและเปิดไฟล์ DWF",
  "title" :"รูปแบบไฟล์ DWF",
  "linktitle" : "DWF",
  "menu" : {
    "docs" : {
      "parent" : "cad"
}
},
  "lastmod" : "2019-09-10"
}

## ไฟล์ DWF คืออะไร??

Design Web Format (DWF) แสดงถึงการวาด 2D/3D ในรูปแบบบีบอัดสำหรับการดู ตรวจทาน หรือพิมพ์ไฟล์การออกแบบ ประกอบด้วยกราฟิกและข้อความซึ่งเป็นส่วนหนึ่งของข้อมูลการออกแบบ และลดขนาดของไฟล์เนื่องจากรูปแบบที่บีบอัด ขนาดไฟล์ที่ลดลงทำให้การกระจายและการสื่อสารข้อมูลการออกแบบที่สมบูรณ์มีประสิทธิภาพ DWF ไม่ต้องการให้ผู้รับทราบเกี่ยวกับการใช้ซอฟต์แวร์ CAD ที่สร้างรูปวาดต้นฉบับ เนื้อหาของรูปแบบไฟล์ DWF สามารถเรียบง่ายและรวมเพียงแผ่นเดียวหรือซับซ้อนพอที่จะมีแบบอักษร สี และรูปภาพ

## ประวัติย่อ ##

Autodesk เปิดตัวรูปแบบไฟล์ DWF ในปี 1995 โดยเป็นส่วนหนึ่งของปลั๊กอิน Netscape Navigation, WHIP รูปแบบนี้พัฒนาจากรูปแบบ 2 มิติเท่านั้นเพื่อรวมเนื้อหา 3 มิติเมื่อเวลาผ่านไป แอปพลิเคชันของบุคคลที่สามจำนวนมากใช้รูปแบบนี้เช่นกัน

## รูปแบบไฟล์ DWF ##

DWF เป็นรูปแบบเปิดที่ปลอดภัยซึ่งออกแบบมาโดยเฉพาะสำหรับการแบ่งปันข้อมูลการออกแบบทางวิศวกรรมที่หลากหลาย ไม่ขึ้นกับแอปพลิเคชันซอฟต์แวร์ ฮาร์ดแวร์ และระบบปฏิบัติการดั้งเดิมที่ใช้ในการสร้างข้อมูลการออกแบบนั้น ซึ่งช่วยให้สมาชิกในทีมที่ไม่ได้ใช้แอปพลิเคชัน CAD สามารถมีส่วนร่วมในกระบวนการดิจิทัลได้โดยการดูอาคาร, GIS หรือการออกแบบผลิตภัณฑ์ ไฟล์เก็บถาวร DWF ประกอบด้วยไฟล์ XML และไฟล์ไบนารีหลายไฟล์ที่บรรจุรวมกันในไฟล์เก็บถาวรแบบบีบอัดที่สร้างด้วยการบีบอัด [ZIP](/th/compression/zip/) คุณสามารถเปลี่ยนชื่อนามสกุลไฟล์ DWF เป็น ZIP และดูเนื้อหาของไฟล์ได้ แพ็คเกจ DWF สามารถมีข้อมูลการออกแบบได้หลายประเภท เช่น กราฟิก 2 มิติ กราฟิก 3 มิติ ข้อมูลเมตาของแพ็คเกจและส่วน และไฟล์ทรัพยากรอื่น ๆ

**ไฟล์ข้อมูลเมตา DWF** – ไฟล์ XML ที่มีข้อมูลที่เกี่ยวข้องกับข้อมูลเมตาและโครงสร้าง (ผู้เขียน ชื่อ เวลาสร้าง การขึ้นต่อกันของส่วน การจัดลำดับส่วน คำอธิบายไฟล์ทรัพยากร บทบาท ประเภท mime ฯลฯ) และเกี่ยวข้องกับส่วน (หน้า ข้อมูล เมทาดาทาการออกแบบ ฯลฯ) ข้อมูลเมตาของโครงสร้างใช้เพื่อสร้างออบเจกต์แบบลอจิคัล (คอลเลกชันของไฟล์เพื่อแสดงส่วนหรือหน้า ฯลฯ)

**ไฟล์ทรัพยากร** – ไฟล์สื่อหรือเนื้อหาอื่นๆ ที่อ้างอิงจากข้อมูลเมตาของแพ็คเกจ/ส่วน และมักจะเป็นการนำเสนอข้อมูลการออกแบบในรูปแบบต่างๆ (ZGL, W2D, [JPG](/th/image/jpeg/), [PNG](/th/image/png/), AVI, XML, [TXT](/th/word-processing/txt/), [DOC](/th/word-processing/doc/) เป็นต้น)

### รายละเอียดรูปแบบไฟล์ ###

ไฟล์ DWF แบ่งออกเป็นสามส่วนหลักตามที่แสดงด้านล่าง

* ส่วนหัวระบุไฟล์
* บล็อกข้อมูลไฟล์
* ตัวอย่างการสิ้นสุดไฟล์

#### ส่วนหัวของตัวระบุไฟล์ ####

ส่วนหัวของตัวระบุไฟล์ช่วยให้สามารถระบุไฟล์ DWF โดยแอปพลิเคชัน นอกจากนี้ยังระบุเวอร์ชันของข้อกำหนด DWF ที่ใช้เข้ารหัสไฟล์ เป็นส่วนหัวขนาด 12 ไบต์ที่จัดเรียงดังนี้:


|ไบต์|0|1|2|3|4|5|6|7|8|9|10|11
--- | --- |--- | --- |--- | --- |--- | --- |--- | --- |--- | --- |--- |
|ตัวละคร|(|D|W|F|(ช่องว่าง)|V|0|0|.|3|0|)

นี่คือบทสรุปของตารางนี้:

* หกไบต์แรกของส่วนหัวแสดงอักขระ ASCII "(DWF V" เสมอ
* 5 ไบต์ต่อไปนี้มีข้อมูลเกี่ยวกับหมายเลขเวอร์ชัน เช่น "00.30" พร้อมค่าเวอร์ชันหลักและรองของรูปแบบ

แอปพลิเคชันที่สร้างไฟล์ DWF ควรระบุหมายเลขเวอร์ชันที่ต่ำที่สุดเท่าที่จะเป็นไปได้ที่แอปพลิเคชันตัวอ่านจำเป็นต้องรองรับ เพื่อที่จะใช้ข้อมูลได้อย่างถูกต้อง

#### บล็อกข้อมูลไฟล์ ####

บล็อกข้อมูลไฟล์เริ่มต้นที่ไบต์ที่ 13 ของไฟล์ DWF และเป็นชุดของคู่ opcode และตัวถูกดำเนินการ ดังตารางต่อไปนี้

|ฟิลด์ 1|ฟิลด์ 2|ฟิลด์ 3|ฟิลด์ 4|ฟิลด์ 5|ฟิลด์ 5
--- | --- |--- | --- |--- | --- |
|opcode|ตัวถูกดำเนินการ|opcode|ตัวถูกดำเนินการ|opcode|ตัวถูกดำเนินการ

ไฟล์ DWF สามารถมีคู่ opcode-operand เป็น ASCII ที่อ่านได้ เช่นเดียวกับไบนารีของโค้ดหรือทั้งสองอย่างนี้ผสมกัน การดำเนินการ DWF ทั้งหมดมีรูปแบบรหัส/ตัวถูกดำเนินการ ASCII ที่อ่านได้ และการดำเนินการส่วนใหญ่ยังมีรหัสรูปแบบไบนารีของรหัส/ตัวถูกดำเนินการ Opcodes อยู่ในไบต์เดียวที่อนุญาตให้ดำเนินการมากกว่า 200 รายการ ASCII แบบขยายและไบนารีแบบขยายเป็นกรณีพิเศษ ค่าของ Opcodes สามารถอยู่ในช่วงตั้งแต่ 0-255 โดยมีข้อยกเว้นบางประการ ยกเว้นสำหรับ opcodes พิเศษสองประเภทที่ขยาย ASCII และไบนารีที่ขยาย โปรแกรมอ่านไฟล์ต้องรู้วิธีคำนวณความยาวของตัวถูกดำเนินการ

##### Opcodes ต้องห้าม #####

ไม่สามารถใช้การแทน ASCII ต่อไปนี้เป็นรหัส opcode:

การแสดง ASCII ต่อไปนี้ไม่สามารถใช้เป็น opcodes ได้:

* พื้นที่ (0x20)
* แท็บ (0x09)
* ยัติภังค์ (0x2D)
* หลัก ASCII 0-9 (0x30 - 0x39)
* การขนส่งกลับ (0x0D)
* ฟีดบรรทัด (0x0A)
* เครื่องหมายคำพูดเดี่ยว (0x27)
* เครื่องหมายอัญประกาศคู่ (0x22)
* ระยะเวลา (0x2E)
* วงเล็บ (0x28 และ 0x29)
* วงเล็บปีกกา (0x7B และ 0x7D)
* วงเล็บเหลี่ยม (0x5B และ 0x5D)
* ทับหลัง (0x5C)

#### ตัวอย่างการสิ้นสุดไฟล์ ####

ตัวอย่างการสิ้นสุดไฟล์สำหรับ DWF เป็นเพียงรหัสพิเศษที่ระบุจุดสิ้นสุดของไฟล์ แอปพลิเคชั่นบางตัวสามารถเก็บข้อมูลที่ไม่ใช่ DWF หลังจากสิ้นสุด opcode ตัวอย่างแสดงด้านล่าง:


|ไบต์|0|1|2|3|4|5|6|7|8|9
---|---|---|---|---|---|---|---|---|---|---|
|ตัวอักษร|(|E|n|d|0|f|D|W|F|)

## อ้างอิง ##

* [DWF - โดย Wikipedia](https://en.wikipedia.org/wiki/Design_Web_Format)
* [รูปแบบข้อมูล WHIP](http://paulbourke.net/dataformats/whip/)
* [https://learn.microsoft.com/en-us/archive/blogs/opc/adventures-in-packaging-episode-1](https://learn.microsoft.com/en-us/archive/blogs/opc/adventures-in-packaging-episode-1)

