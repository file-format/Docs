{
  "date" : "2019-10-11",
  "keywords" :[ "ไฟล์ dng", "รูปแบบไฟล์ dng", "ไฟล์ dng คืออะไร", "ไฟล์", "ตัวอย่าง dng", "นามสกุลไฟล์ dng", "นามสกุล", "รูปแบบ" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"DNG - รูปแบบไฟล์ภาพกล้องดิจิตอล",
  "description":"เรียนรู้เกี่ยวกับรูปแบบไฟล์ DNG และ API ที่สามารถสร้างและเปิดไฟล์ DNG",
  "linktitle" : "DNG",
  "menu" : {
    "docs" : {
      "parent" : "image"
}
},
  "lastmod" : "2019-09-10"
}

## ไฟล์ DNG คืออะไร??

DNG เป็นรูปแบบภาพจากกล้องดิจิทัลที่ใช้สำหรับจัดเก็บไฟล์ดิบ ได้รับการพัฒนาโดย Adobe ในเดือนกันยายน 2547 โดยพื้นฐานแล้วได้รับการพัฒนาสำหรับการถ่ายภาพดิจิทัล DNG เป็นส่วนขยายของรูปแบบมาตรฐาน [TIFF](/th/image/tiff/)/EP และใช้ข้อมูลเมตาอย่างมาก เพื่อจัดการข้อมูลดิบจากกล้องดิจิทัลด้วยความยืดหยุ่นและการควบคุมศิลปะที่ง่ายดาย ช่างภาพเลือกใช้ไฟล์ดิบของกล้อง รูปแบบ JPEG และ TIFF จัดเก็บรูปภาพที่ประมวลผลโดยกล้อง ดังนั้นจึงมีพื้นที่ไม่มากสำหรับการแก้ไขในรูปแบบดังกล่าว

## ประวัติและเวอร์ชันของรูปแบบไฟล์ DNG

จนถึงขณะนี้มีข้อกำหนด DNG อยู่ 5 เวอร์ชัน เวอร์ชัน 1.0.0.0 เปิดตัวในเดือนกันยายน 2547 พร้อมกับการเปิดตัว "2.3" (ACR และ DNG Converter) ในเดือนกุมภาพันธ์ 2548 เวอร์ชัน 1.1.0.0 ได้รับการเผยแพร่ ในเดือนพฤษภาคม 2551 เวอร์ชัน 1.2.0.0 ได้รับการเผยแพร่และใช้ใน "4.4" เวอร์ชัน 1.3.0.0 เผยแพร่ในเดือนมิถุนายน 2552 เวอร์ชัน 1.4.0.0 ปรากฏในปี 2555

## รูปแบบไฟล์ DNG

ในขณะที่ไฟล์ RAW ของกล้องจะจับข้อมูลที่ยังไม่ได้ประมวลผลหรือมีการประมวลผลน้อยโดยตรงจากเซ็นเซอร์ เนื่องจากมีความคล้ายคลึงกับฟิล์มเนกาทีฟ ดังนั้นรูปแบบ Raw ของกล้องจึงเรียกอีกอย่างว่า "ดิจิทัลเนกาทีฟ" ประโยชน์ของรูปแบบดิบคือการควบคุมศิลป์ที่เพิ่มขึ้นสำหรับผู้ใช้ปลายทาง ผู้ใช้สามารถปรับช่วงพารามิเตอร์ต่างๆ ได้ตามความต้องการ เช่น สมดุลแสงขาว การปรับโทนสี การลดสัญญาณรบกวน ความคมชัด และอื่นๆ ในทางกลับกัน ไฟล์ Raw ของกล้องจะต้องได้รับการประมวลผลเพื่อใช้งานผ่านซอฟต์แวร์ใดๆ หรือผ่านตัวแปลง

เนื่องจากไม่มีรูปแบบมาตรฐานสำหรับไฟล์ raw ของกล้อง ดังนั้นจึงสร้างปัญหาหลายอย่างให้กับผู้ใช้ปลายทาง ปัญหาเหล่านี้ได้รับการแก้ไขโดย Adobe และกำหนดรูปแบบที่ไม่ใช่กรรมสิทธิ์สำหรับไฟล์ raw ของกล้อง รูปแบบนี้เรียกว่า Digital Negative หรือ DNG DNG สามารถใช้กับฮาร์ดแวร์และซอฟต์แวร์ที่หลากหลายสำหรับการประมวลผลไฟล์ดิบ นอกจากนี้ DNG ยังสามารถใช้เป็นรูปแบบสื่อกลางสำหรับการจัดเก็บภาพที่ถ่ายโดยกล้องที่มีรูปแบบดิบที่เป็นกรรมสิทธิ์ของตนเอง

### ข้อมูลจำเพาะรูปแบบไฟล์ DNG

ในส่วนนี้ เราจะอธิบายรูปแบบ DNG เป็นส่วนเสริมของ TIFF 6.0

* **นามสกุลไฟล์**: DNG ใช้นามสกุล “.DNG” หรือ “.TIF”
* **SubIFD Trees**: DNG ไม่รองรับ SubIFD chains แต่ DNG แนะนำให้ใช้ SubIFD tree ตามที่ระบุในข้อกำหนดเฉพาะของ TIFF-EP คุณภาพและความละเอียดสูงสุดอาจใช้ NewSubFileType เป็น 0 ในขณะที่ภาพขนาดย่อคุณภาพลดลงควรใช้ NewSubFileType เท่ากับ 1 นอกจากนี้ ขอแนะนำแม้ว่าจะไม่จำเป็นว่า IFD แรกจะต้องมีภาพขนาดย่อที่มีคุณภาพหรือความละเอียดต่ำ
* **ลำดับไบต์**: ลำดับไบต์ต้องรองรับโดยเครื่องอ่าน DNG และสำหรับไฟล์จากกล้องรุ่นใดรุ่นหนึ่งด้วย
* **พิกเซลที่สวมหน้ากาก**: เซ็นเซอร์กล้องส่วนใหญ่คำนวณพิกเซลที่สวมหน้ากากจนสุดที่ขอบของเซ็นเซอร์ผ่านการเข้ารหัสสีดำ พิกเซลเหล่านี้สามารถรวมหรือตัดแต่งก่อนที่รูปภาพจะถูกจัดเก็บในรูปแบบ DNG หากพิกเซลมาสก์ไม่ถูกตัดแต่ง พื้นที่ของพิกเซลเหล่านี้จะต้องถูกกล่าวถึงในแท็ก ActiveArea ควรใช้ข้อมูลที่รวบรวมจากพิกเซลเหล่านี้เกี่ยวกับระดับการเข้ารหัสสีดำก่อนที่จะเก็บข้อมูลดิบหรืออาจรวมอยู่ในไฟล์ DNG ที่ระบุระดับสีดำ
* **พิกเซลที่มีข้อบกพร่อง**: ก่อนจัดเก็บข้อมูลดิบเป็น DNG ควรแยกพิกเซลที่มีข้อบกพร่องออก
* **ข้อมูลเมตา**: ข้อมูลเมตาอาจรวมอยู่ใน DNG ด้วยวิธีใดๆ ต่อไปนี้:
** โดยใช้แท็กข้อมูลเมตา TIFF-EP หรือ EXIF
** ผ่านแท็กข้อมูลเมตา IPTC (33723)
** การใช้แท็กข้อมูลเมตา XMP (700)
* **ข้อมูลที่เป็นกรรมสิทธิ์**: โดยปกติแล้ว ผู้ขายจะรวมข้อมูลที่เป็นกรรมสิทธิ์ไว้ในไฟล์ดิบเพื่อให้ผู้แปลงใช้เอง DNG จัดเก็บข้อมูลที่เป็นกรรมสิทธิ์ของพวกเขาในแท็กส่วนตัว IFD ส่วนตัว และใน MakerNote ส่วนตัว ผู้จำหน่ายต้องใช้แท็ก DNGPrivateData และ MakerNoteSafety เพื่อให้แน่ใจว่าแอปพลิเคชันที่แก้ไขไฟล์ DNG จะรักษาข้อมูลที่เป็นกรรมสิทธิ์นี้ไว้

ต่อไปนี้เป็นข้อจำกัดที่สำคัญและแท็กส่วนขยาย TIFF

**BitsPerSample**

รองรับ 8 ถึง 32 บิต/ตัวอย่าง ต้องมีความลึกเท่ากันสำหรับแต่ละตัวอย่างเมื่อ SamplesPerPixel ไม่เท่ากับ 1 แต่ถ้า BitsPerSample ไม่เท่ากับ 8 หรือ 16 หรือ 32 ดังนั้นบิตจะต้องถูกบรรจุเป็นไบต์โดยใช้ค่าเริ่มต้นของ TIFF FillOrder ที่ 1 (big-endian)

**การบีบอัด**

รองรับค่าแท็กการบีบอัดสองค่า:

* ค่า # 1: ข้อมูลที่ไม่บีบอัด
* ค่า # 7: ข้อมูลบีบอัด JPEG, DCT JPEG แบบพื้นฐานหรือการบีบอัด JPEG แบบไม่สูญเสียข้อมูล

**การตีความเชิงแสง**

ค่าต่อไปนี้รองรับภาพขนาดย่อและการแสดงตัวอย่าง IFD เท่านั้น:

* 1 = BlackIsZero สันนิษฐานว่าอยู่ในพื้นที่สีแกมมา 2.2
* 2 = RGB สันนิษฐานว่าอยู่ในพื้นที่สี sRGB
* 6 = YCbCr. ใช้สำหรับภาพตัวอย่างที่เข้ารหัส JPEG

ค่าต่อไปนี้รองรับ IFD แบบดิบ และจะถือว่าเป็นค่าสีดั้งเดิมของกล้อง:

* 32803# CFA (อาร์เรย์ตัวกรองสี)
*34892# LinearRaw.

**ปฐมนิเทศ**

แท็ก Orientation ใช้สำหรับเบราว์เซอร์ไฟล์เพื่อให้สามารถหมุนไฟล์ DNG ได้โดยไม่สูญเสียข้อมูล เครื่องอ่าน DNG ต้องรองรับการวางแนวที่เป็นไปได้ทั้งหมด รวมถึงการวางแนวแบบมิเรอร์

## คุณสมบัติใน DNG เวอร์ชันล่าสุด

DNG เวอร์ชัน 1.4 ตุลาคม 2012 มีคุณสมบัติขั้นสูงดังต่อไปนี้

* ครอบตัดผู้ใช้เริ่มต้น
* ความโปร่งใส
* จุดลอยตัว (HDR)
* การบีบอัดแบบสูญเสีย
* ผู้รับมอบฉันทะ

## อ้างอิง ##

* [ข้อกำหนด DNG - โดย Adobe](https://web.archive.org/web/20170829200857/http://wwwimages.adobe.com/content/dam/Adobe/en/products/photoshop/pdfs/dng_spec_1.4.0.0.pdf)
* [ดิจิทัลเนกาทีฟ - Wikipedia](https://en.wikipedia.org/wiki/Digital_Negative)
* [DNG - รูปแบบการเก็บถาวรสาธารณะสำหรับข้อมูลดิบของกล้องดิจิทัล](https://helpx.adobe.com/photoshop/digital-negative.html)

