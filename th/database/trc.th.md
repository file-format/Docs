{
  "date" : "2021-08-24",
  "keywords" :[ "ไฟล์ trc", "รูปแบบไฟล์ trc", "ไฟล์ trc คืออะไร", "ไฟล์", "ตัวอย่าง trc", "นามสกุลไฟล์ trc","นามสกุล", "รูปแบบ" ],
  "author" : {
    "display_name" : "Muhammad Umar"
},
  "draft" : "false",
  "toc" : true,
  "description" :"เรียนรู้เกี่ยวกับรูปแบบไฟล์ TRC และ API ที่สามารถสร้างและเปิดไฟล์ TRC",
  "title" :"TRC - ไฟล์ติดตามเซิร์ฟเวอร์ SQL",
  "linktitle" : "TRC",
  "menu" : {
    "docs" : {
      "parent" : "database"
}
},
  "lastmod" : "2021-08-24"
}

## ไฟล์ TRC คืออะไร??
ไฟล์ที่มีนามสกุล .trc มีผลการติดตามกิจกรรมของฐานข้อมูลเซิร์ฟเวอร์ Miscrosoft SQL ไฟล์เหล่านี้สร้างโดยซอฟต์แวร์ SQL Server Profiler; มักจะมาพร้อมกับซอฟต์แวร์ Microsoft SQL Server ผู้ดูแลระบบฐานข้อมูลสามารถวิเคราะห์ลำดับของคำสั่งฐานข้อมูลและสามารถตรวจสอบบันทึกการติดตามได้หากสงสัยว่ามีข้อผิดพลาดหรือคำเตือนบางอย่าง ไฟล์เหล่านี้มักจะอยู่ในโฟลเดอร์ LOG ทั่วไปของ MSSQL ภายในไดเร็กทอรี Program Files บนระบบปฏิบัติการ Windows

## รูปแบบไฟล์ TRC
รูปแบบไฟล์ TRC ถูกใช้โดย SQL Server Profiler เพื่อสร้างการติดตามใหม่ของคำสั่งที่เพิ่งดำเนินการโดยเซิร์ฟเวอร์ MS SQL โดยอัตโนมัติ SQL Server Profiler ใช้เทมเพลตเริ่มต้นสำหรับการติดตามใหม่ อย่างไรก็ตาม ซอฟต์แวร์มีเทมเพลตที่กำหนดไว้ล่วงหน้าหลายแบบสำหรับการตรวจสอบเหตุการณ์บางประเภท นอกจากนี้ยังสามารถใช้ SQL Server Profiler เพื่อสร้างเทมเพลตที่กำหนดคลาสเหตุการณ์และคอลัมน์ข้อมูลเพื่อรวมในการติดตาม

### เทมเพลตที่กำหนดไว้ล่วงหน้า
นี่คือรายการของเทมเพลตที่กำหนดไว้ล่วงหน้าบางส่วนที่รวมอยู่ใน SQL Server Profiler:
- **SP_Counts**: บันทึกพฤติกรรมการดำเนินการตามขั้นตอนที่เก็บไว้เมื่อเวลาผ่านไป
- **มาตรฐาน**: จุดเริ่มต้นทั่วไปสำหรับการสร้างการติดตาม
- **TSQL**: บันทึกคำสั่ง Transact-SQL ทั้งหมดที่ส่งไปยัง SQL Server โดยไคลเอ็นต์และเวลาที่ออก
- **TSQL_Duration**: บันทึกคำสั่ง Transact-SQL ทั้งหมดที่ส่งไปยัง SQL Server โดยไคลเอ็นต์ เวลาดำเนินการ และจัดกลุ่มตามระยะเวลา
- **TSQL_Grouped**: ใช้เพื่อตรวจสอบการสืบค้นจากลูกค้าหรือผู้ใช้เฉพาะราย
- **TSQL_Locks**: ใช้เพื่อแก้ไขปัญหาการชะงักงัน ล็อกการหมดเวลา และล็อกเหตุการณ์การเลื่อนระดับ
- **TSQL_Replay**: ใช้เพื่อทำการปรับแต่งซ้ำ เช่น การทดสอบเกณฑ์มาตรฐาน
- **TSQL_SPs**: ใช้เพื่อวิเคราะห์ขั้นตอนส่วนประกอบของกระบวนงานที่เก็บไว้
- **การปรับแต่ง**: ใช้เพื่อสร้างเอาต์พุตการติดตามที่ Database Engine Tuning Advisor สามารถใช้เป็นเวิร์กโหลดเพื่อปรับแต่งฐานข้อมูล
### เชื่อมโยงการติดตามกับข้อมูลบันทึกประสิทธิภาพของ Windows
สามารถใช้ SQL Server Profiler เพื่อเปิดบันทึกประสิทธิภาพการทำงานของ Microsoft Windows เพื่อเลือกตัวนับที่สัมพันธ์กับการติดตาม และแสดงตัวนับประสิทธิภาพที่เลือกควบคู่ไปกับการติดตามใน MS SQL Server Profiler GUI เพื่อระบุข้อมูลบันทึกประสิทธิภาพที่สัมพันธ์กับเหตุการณ์การติดตามที่เลือก แถบสีแดงแนวตั้งในบานหน้าต่างข้อมูลการตรวจสอบระบบของ SQL Server Profiler


## อ้างอิง ##

* [ตัวสร้างโปรไฟล์เซิร์ฟเวอร์ SQL](https://learn.microsoft.com/en-us/sql/tools/sql-server-profiler/sql-server-profiler?view=sql-server-ver15)

