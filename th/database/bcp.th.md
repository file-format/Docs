{
  "date" : "2020-11-11",
  "keywords" :[ "BCP", "นามสกุล", "ไฟล์", "รูปแบบไฟล์", "ประเภทไฟล์ฐานข้อมูล", "รูปแบบไฟล์ฐานข้อมูล", "ไฟล์ฐานข้อมูล" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "description" :"เรียนรู้เกี่ยวกับรูปแบบไฟล์ BCP และ API ที่สามารถสร้างและเปิดไฟล์ BCP",
  "title" :"BCP - รูปแบบไฟล์คัดลอกจำนวนมากของเซิร์ฟเวอร์ SQL",
  "linktitle" : "BCP",
  "menu" : {
    "docs" : {
      "parent" : "database"
}
},
  "lastmod" : "2020-08-12"
}

## ไฟล์ BCP คืออะไร??

BCP (รูปแบบสำเนาจำนวนมาก) เป็นรูปแบบข้อมูลทางเทคนิคของ Microsoft SQL Server ที่กำหนดโครงสร้างข้อมูลเพื่อจัดเก็บค่าประเภทข้อมูลฐานข้อมูลที่แตกต่างกันสำหรับการนำเข้า/ส่งออก รูปแบบกำหนดการตีความของแต่ละคอลัมน์ข้อมูลอย่างสมบูรณ์ เพื่อให้สามารถอ่านชุดของค่าที่ระบุในไฟล์ข้อมูลได้ ยูทิลิตี [BCP](https://learn.microsoft.com/en-us/previous-versions/sql/sql-server-2008-r2/ms162802(v=sql.105)) ใช้รูปแบบไฟล์ BCP เพื่ออ่าน ข้อมูลจากไฟล์ดังกล่าวและระบุได้


## รูปแบบไฟล์ BCP

ไฟล์รูปแบบ BCP เป็นเอกสาร XML ที่กำหนดลำดับคอลัมน์ ชื่อ และประเภทข้อมูล ช่วยให้ผู้ใช้สามารถนำเข้า / ส่งออกข้อมูลจำนวนมากจากไฟล์ข้อมูลที่ระบุฟิลด์เหล่านี้ ซึ่งจะเป็นประโยชน์ในการนำเข้าค่าข้อมูลจำนวนมากจากไฟล์ข้อมูล จำนวนและลำดับของฟิลด์ข้อมูลในไฟล์ข้อมูลอาจแตกต่างจากในคอลัมน์ตารางปลายทาง นี่คือเมื่อไฟล์รูปแบบข้อมูล BCP เข้ามาช่วยโดยระบุลำดับและประเภทของคอลัมน์ในการนำเข้าข้อมูล

โครงสร้างของไฟล์รูปแบบจะแสดงในรูปแบบต่อไปนี้

```
<BCPFORMAT ...>
    <RECORD>
       <FIELD ID = "fieldID" xsi:type = "fieldType" [...] />
    </RECORD>
    <ROW>
       <COLUMN SOURCE = "fieldID" NAME = "columnName" xsi:type = "columnType" [...]  />
    </ROW>
 </BCPFORMAT>
```

### ประเภทข้อมูล BCP

|ประเภทข้อมูล|ช่วง|การแสดง|
---|---|---|
|BigInt|-263 (-9,223,372,036,854,775,808) ถึง 263-1 (9,223,372,036,854,775,807)|`BigInt = ["-"]1*19DIGIT`|
|ไบนารี|1 ถึง 8000 ไบต์|รูปแบบสตริง Unicode ที่เข้ารหัสเลขฐานสิบหก `Binary = 32000OCTET`|
|บิต|0 หรือ 1|สตริง Unicode อย่างง่าย Bit = "0" / "1"|
|ถ่าน|1 ถึง 8000|รูปแบบสตริง Unicode, Char = 16000OCTET|
|CLRUDT|VarBinary|CLRUDT = 0*nOCTET กับ n = 4 x (2,147,483,647)|
|วันที่|0001-01-01 ถึง 9999-12-31|รูปแบบสตริง YYYY-MM-DD|
|DateTime|1753-01-01 00:00:00.000 ถึง 9999-12-31 23:59:59.997| Unicode YYYY-MM-DD hh:mm:ss[.nnn] รูปแบบสตริง|
|DateTime2|0001-01-01 00:00:00.0000000 ถึง 9999-12-31 23:59:59.9999999.| Unicode YYYY-MM-DD hh:mm:ss[.nnnnnnnn] รูปแบบสตริง|
|DateTimeOffset|0001-01-01 00:00:00.0000000 ถึง 9999-12-31 23:59:59.9999999 ในเขตเวลาเวลาสากลเชิงพิกัด (UTC)| Unicode YYYY-MM-DD hh:mm:ss[.nnnnnnn] [{+|-}hh:mm] รูปแบบสตริง|
|ทศนิยม|-1038 + 1 ถึง 1038 – 1|รูปแบบสตริง Unicode `ทศนิยม = ["-"] 0*38DIGIT ["."0*38DIGIT]`|
|โฟลต|-1.79E+308 ถึง -2.23E-308; 0; ตั้งแต่ 2.23E-308 ถึง 1.79E+308|รูปแบบสตริง Unicode|
|รูปภาพ|ลำดับของไบต์ที่มีตั้งแต่ 0 ถึง 231 – 1 (2,147,483,647)|รูปแบบสตริง Unicode ที่เข้ารหัสเลขฐานสิบหก|
|Int|-231 (-2,147,483,648) ถึง 231 – 1 (2,147,483,647)|รูปแบบสตริง Unicode|

## อ้างอิง

* [รูปแบบ BCP - Microsoft](https://learn.microsoft.com/en-us/openspecs/sql_data_portability/ms-bcp/54965c4d-34c7-400d-b970-1007984315a5)

