{
  "date" : "2021-08-24",
  "keywords" :[ "файл trc", "формат файлу trc", "що таке файл trc", "файл", "приклад trc", "розширення файлу trc", "розширення", "формат" ],
  "author" : {
    "display_name" : "Muhammad Umar"
},
  "draft" : "false",
  "toc" : true,
  "description" :"Дізнайтеся про формат файлу TRC та API, які можуть створювати та відкривати файли TRC.",
  "title" :"TRC - файл трасування SQL Server",
  "linktitle" : "TRC",
  "menu" : {
    "docs" : {
      "parent" : "database"
}
},
  "lastmod" : "2021-08-24"
}

## Що таке файл TRC?
Файл із розширенням .trc містить результати трасування активності бази даних сервера Miscrosoft SQL. Ці файли створюються програмним забезпеченням SQL Server Profiler; зазвичай комплектується програмним забезпеченням Microsoft SQL Server. Адміністратори бази даних можуть аналізувати послідовність операторів бази даних і переглядати журнал трасування, якщо є підозри на якісь помилки чи попередження. Ці файли зазвичай знаходяться в типовій папці LOG MSSQL у каталозі Program Files в операційній системі Windows.

## Формат файлу TRC
Формат файлу TRC використовується SQL Server Profiler для автоматичного створення нового трасування нещодавно виконаних інструкцій сервером MS SQL. SQL Server Profiler використовує шаблон за замовчуванням для будь-якої нової трасування. Однак програмне забезпечення містить кілька попередньо визначених шаблонів для моніторингу певних типів подій. Також SQL Server Profiler можна використовувати для створення шаблонів, які визначають класи подій і стовпці даних для включення в трасування.

### Попередньо визначені шаблони
Ось список деяких попередньо визначених шаблонів, включених до SQL Server Profiler:
- **SP_Counts**: фіксує поведінку виконання збереженої процедури з часом.
- **Стандартний**: загальна початкова точка для створення трасування.
- **TSQL**: фіксує всі оператори Transact-SQL, які клієнти надсилають на SQL Server, і виданий час.
- **TSQL_Duration**: фіксує всі оператори Transact-SQL, надіслані до SQL Server клієнтами, час їх виконання та групує їх за тривалістю.
- **TSQL_Grouped**: використовуйте для дослідження запитів від конкретного клієнта або користувача.
- **TSQL_Locks**: використовуйте для усунення взаємоблокувань, тайм-ауту блокування та подій ескалації блокування.
- **TSQL_Replay**: Використовуйте для виконання ітераційного налаштування, наприклад тестування бенчмарку.
- **TSQL_SPs**: використовуйте для аналізу кроків компонентів збережених процедур.
- **Налаштування**: Використовуйте для створення виводу трасування, який Database Engine Tuning Advisor може використовувати як робоче навантаження для налаштування баз даних.
### Зіставте трасування з даними журналу продуктивності Windows
SQL Server Profiler можна використовувати для відкриття журналу продуктивності Microsoft Windows, вибору лічильників для кореляції з трасуванням і відображення вибраних лічильників продуктивності разом із трасуванням у GUI MS SQL Server Profiler. Щоб вказати дані журналу продуктивності, які співвідносяться з вибраною подією трасування, вертикальна червона смуга на панелі вікна даних системного монітора SQL Server Profiler.


## Посилання ##

* [SQL Server Profiler](https://docs.microsoft.com/en-us/sql/tools/sql-server-profiler/sql-server-profiler?view=sql-server-ver15)

