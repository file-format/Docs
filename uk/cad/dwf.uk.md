{
  "date" : "2020-03-16",
  "keywords" :[ "DWF", "Формат файлу", "Відкрити", "Читати", "Створити", "CAD" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "description" :"Дізнайтеся про формат файлу DWF та API, які можуть створювати та відкривати файли DWF.",
  "title" :"Формат файлу DWF",
  "linktitle" : "DWF",
  "menu" : {
    "docs" : {
      "parent" : "cad"
}
},
  "lastmod" : "2019-09-10"
}

## Що таке файл DWF?

Design Web Format (DWF) представляє 2D/3D малюнок у стисненому форматі для перегляду, перегляду або друку файлів дизайну. Він містить графіку та текст як частину проектних даних і зменшує розмір файлу завдяки стисненому формату. Зменшений розмір файлу робить розповсюдження та передачу багатих проектних даних ефективним. DWF не вимагає від одержувача знати про використання програмного забезпечення САПР, у якому створено оригінальний малюнок. Вміст файлу формату DWF може бути простим і включати лише один аркуш або досить складним, щоб мати шрифти, колір і зображення.

## Коротка історія ##

Компанія Autodesk представила формат файлу DWF у 1995 році як частину плагіна Netscape Navigation, WHIP. З плином часу цей формат еволюціонував від формату лише 2D до 3D-вмісту. Багато програм сторонніх розробників також використовують цей формат.

## Формат файлу DWF ##

DWF — це відкритий безпечний формат, розроблений спеціально для обміну багатими даними проектування. Він не залежить від оригінального прикладного програмного забезпечення, апаратного забезпечення та операційної системи, які використовуються для створення цих проектних даних. Це дає змогу членам команди, які не використовують додатки САПР, брати участь у цифрових процесах, переглядаючи проекти будівель, ГІС або продуктів. Файловий архів DWF складається з кількох файлів XML і бінарних файлів, які упаковані разом у стиснений архів, створений за допомогою стиснення [ZIP](/uk/compression/zip/). Ви можете перейменувати розширення файлу DWF на ZIP і переглянути вміст файлу. Пакет DWF може містити багато типів проектних даних, таких як 2D-графіка, 3D-графіка, метадані пакетів і розділів та інші файли ресурсів.

**Файли метаданих DWF** – XML-файли, які містять інформацію, що стосується метаданих і структури (автор, назва, час створення, залежності розділів, порядок розділів, описи файлів ресурсів, ролі, типи MIME тощо) і стосується розділу (сторінки інформація, метадані дизайну тощо). Структурні метадані використовуються для створення логічних об’єктів (колекції файлів для представлення частини або сторінки тощо).

**Файли ресурсів** – мультимедійні файли або файли іншого вмісту, на які посилаються метадані пакета/розділу та зазвичай представляють дані про дизайн у різних форматах (ZGL, W2D, [JPG](/uk/image/jpeg/), [PNG](/uk/image/png/), AVI, XML, [TXT](/uk/word-processing/txt/), [DOC](/uk/word-processing/doc/) тощо)

### Деталі формату файлу ###

Файли DWF організовані в три основні розділи, як показано нижче.

* Заголовок ідентифікації файлу
* Блок даних файлу
* Трейлер завершення файлу

#### Заголовок ідентифікатора файлу ####

Заголовок ідентифікатора файлу дозволяє ідентифікувати файли DWF програмами. Він також визначає, яка версія специфікацій DWF використовувалася для кодування файлу. Це 12-байтовий заголовок, який впорядкований таким чином:


|Байт|0|1|2|3|4|5|6|7|8|9|10|11
--- | --- |--- | --- |--- | --- |--- | --- |--- | --- |--- | --- |--- |
|Символ|(|D|W|F|(пробіл)|V|0|0|.|3|0|)

Ось короткий виклад цієї таблиці:

* Перші шість байтів заголовка завжди представляють символи ASCII "(DWF V"
* Наступні 5 байтів містять інформацію про номер версії, наприклад "00.30" із значенням основної та другорядної версії формату

Програми, що створюють файл DWF, повинні вказати найнижчий можливий номер версії, який програма читання має підтримувати, щоб правильно використовувати дані.

#### Блок даних файлу ####

Блок даних файлу починається з 13-го байту файлу DWF і являє собою ряд пар кодів операції та операндів, як у наступній таблиці.

|Поле 1|Поле 2|Поле 3|Поле 4|Поле 5|Поле 5
--- | --- |--- | --- |--- | --- |
|код операції|операнд|код операції|операнд|код операції|операнд

Файл DWF може містити пари код операції-операнд як читабельний ASCII, так і двійковий код або суміш обох. Усі операції DWF мають читабельну форму коду операції/операнда ASCII, і більшість операцій також мають кодовану двійкову форму коду операції/операнда. Коди операцій містять один байт, що дозволяє виконувати понад 200 операцій. Розширений ASCII і розширений двійковий код є винятковими випадками. Значення кодів операцій можуть коливатися від 0 до 255 за деякими винятками. За винятком двох спеціальних типів кодів операцій, розширеного ASCII і розширеного двійкового, читач файлів повинен знати, як обчислити довжину операнда.

##### Заборонені коди операцій #####

Представлення ASCII для наступного не можна використовувати як коди операцій:

Наступні представлення ASCII не можна використовувати як коди операцій:

* Пробіл (0x20)
* Вкладка (0x09)
* Дефіс (0x2D)
* Цифри ASCII 0-9 (0x30 - 0x39)
* Повернення каретки (0x0D)
* Переведення рядка (0x0A)
* Одинарні лапки (0x27)
* Подвійні лапки (0x22)
* Крапка (0x2E)
* Дужки (0x28 і 0x29)
* Фігурні дужки (0x7B і 0x7D)
* Квадратні дужки (0x5B і 0x5D)
* Зворотний слеш (0x5C)

#### Трейлер завершення файлу ####

Трейлер завершення файлу для DWF — це просто спеціальний код операції, що вказує кінець файлу. Деякі програми можуть зберігати дані, відмінні від DWF, після коду операції завершення. Трейлер виглядає так:


|Байт|0|1|2|3|4|5|6|7|8|9
---|---|---|---|---|---|---|---|---|---|---|
|Символ|(|E|n|d|0|f|D|W|F|)

## Посилання ##

* [DWF – Вікіпедія](https://en.wikipedia.org/wiki/Design_Web_Format)
* [Формат даних WHIP](http://paulbourke.net/dataformats/whip/)
* [https://learn.microsoft.com/en-us/archive/blogs/opc/adventures-in-packaging-episode-1](https://learn.microsoft.com/en-us/archive/blogs/opc/adventures-in-packaging-episode-1)

