{
  "date" : "2021-06-29",
  "keywords" :[ "ICNS", "розширення", "файл", "формат", "зображення", "Зображення значка Apple", "macOS", "Apple", "Значок" ],
  "author" : {
    "display_name" : "Sami Cheema"
},
  "draft" : "false",
  "toc" : true,
  "title" :"ICNS - зображення значка Apple",
  "description":"Дізнайтеся про формат файлу ICNS та API, які можуть створювати та відкривати файли ICNS.",
  "linktitle" : "ICNS",
  "menu" : {
    "docs" : {
      "parent" : "image"
}
},
  "lastmod" : "2021-06-29"
}

## Що таке файл ICNS? ##

Формат значка, який використовується програмами macOS, називається файлом ICNS. Він допускає 1-бітні та 8-бітові альфа-діапазони та зберігає одне або кілька зображень, зазвичай створених із документів [PNG](/uk/image/png). Піктограма програми в браузері та інтерфейсі macOS відображається за допомогою файлів ICNS.

Залежно від розташування одна і та сама піктограма стилю може мати кілька налаштувань. Формат ICNS зазнав численних змін і розвинувся до такого стану, що тепер його можна використовувати як основу для різноманітних сумісних форматів. Ось деякі інші важливі моменти, які вам потрібно знати:

* Ресурс IconFamily, Macintosh Icon, Macintosh OS X Icon, Mac OS Icon, Apple Icon, Mac OS X Icon Resource і Mac OS icons Resource – це деякі інші назви.
* Для інформації про значок використовується джерело в гілці ресурсу.
* У більшості випадків файл містить багато зображень. 1612 пікселів у квадраті та 1024, 512, 256, 128, 48, 32 і 16 пікселів у квадраті є підтримуваними розмірами зображення.


## Формат файлу ICNS ##

Формат даних ICNS — це капсула для одного чи кількох зображень, яка підтримує 1-бітні смуги та численні стани зображення.
Операційна система може змінювати розмір піктограм відповідно до необхідного розміру дисплея. Більші зображення значків зазвичай зберігаються як файли [JPEG](/uk/image/jpeg/) 2000 або [PNG](/uk/image/png). Можливий тип як стиснутих, так і нестиснутих файлів ICNS.

Дані заголовка та двійкової піктограми складають структуру файлу ICNS. Заголовок містить 8 байтів даних, чотири з яких є магічним літералом і чотири з яких є довжиною файлу. Тип і розмір кожного зображення значка зберігаються в розділі даних значка, за яким слідують двійкові дані зображення. Розмір зображення визначає розмір двійкового розділу.

## Технічна специфікація ##

### Заголовок ###

|Зсув|Розмір|Мета
---|---|---|
|0|4|Магічний літерал, має бути "icns" (0x69, 0x63, 0x6e, 0x73)
|4|4|Довжина файлу в байтах, спочатку msb


### Дані значка ###

|Зсув|Розмір|Мета
---|---|---|
|0|4|Тип значка
|4|4|Довжина даних, у байтах (включаючи тип і довжину), msb спочатку
|8|Змінна|Дані значка

### Стиснення ###

Піксельні дані певною мірою стискаються. 32-бітові ("is32", "il32", "ih32", "it32") і ARGB ("ic04", "ic05") пікселі часто стискаються (на канал) подібно до PackBits.

|Провідне значення|Закінчені байти|Результат (без стиснення)
---|---|---|
|0 - 127|1 - 128|1 - 128 байт
|128 - 255|1 байт|3 - 130 копій

## Посилання ##

* [ICNS – Вікіпедія](https://en.wikipedia.org/wiki/Apple_Icon_Image_format)

