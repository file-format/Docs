{
  "date" : "2019-10-11",
  "keywords" :[ "файл dng", "формат файлу dng", "що таке файл dng", "файл", "приклад dng", "розширення файлу dng", "розширення", "формат" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"DNG - формат файлу зображення цифрової камери",
  "description":"Дізнайтеся про формат файлу DNG та API, які можуть створювати та відкривати файли DNG.",
  "linktitle" : "DNG",
  "menu" : {
    "docs" : {
      "parent" : "image"
}
},
  "lastmod" : "2019-09-10"
}

## Що таке файл DNG?

DNG — це формат зображення цифрової камери, який використовується для зберігання необроблених файлів. Він був розроблений Adobe у вересні 2004 року. В основному він був розроблений для цифрової фотографії. DNG є розширенням стандартного формату [TIFF](/uk/image/tiff/)/EP і значно використовує метадані. Щоб маніпулювати необробленими даними з цифрових камер із легкістю гнучкості та художнього контролю, фотографи вибирають файли Camera Raw. У форматах JPEG і TIFF зберігаються зображення, оброблені камерою, тому в таких форматах небагато можливостей для зміни.

## Історія та версії формату файлу DNG

До цього часу було 5 версій специфікації DNG. Версія 1.0.0.0 була запущена у вересні 2004 року разом із випуском "2.3" (конвертер ACR і DNG). У лютому 2005 року була опублікована версія 1.1.0.0. У травні 2008 року була випущена версія 1.2.0.0, яка використовувалася в "4.4". Версія 1.3.0.0 була опублікована в червні 2009 року. Версія 1.4.0.0 з'явилася в 2012 році.

## Формат файлу DNG

У той час як файли Camera Raw захоплюють необроблені або низько оброблені дані безпосередньо з датчика. Оскільки вони схожі на негативи плівки, формати Camera Raw також відомі як «цифрові негативи». Перевагою необроблених форматів є розширений художній контроль для кінцевого користувача. Користувач може регулювати різні діапазони параметрів відповідно до вимог, таких як баланс білого, відображення тонів, зменшення шуму, підвищення різкості тощо. З іншого боку, файл Camera Raw необхідно обробляти для будь-якого використання за допомогою будь-якого програмного забезпечення або за допомогою конвертера.

Оскільки для файлів Camera Raw не було стандартного формату, це створювало численні проблеми для кінцевого користувача. Adobe вирішила ці проблеми та визначила непатентований формат для файлів Camera Raw. Формат відомий як цифровий негатив або DNG. DNG може використовуватися різноманітним апаратним і програмним забезпеченням для обробки необроблених файлів. Крім того, DNG також можна використовувати як проміжний формат для зберігання зображень, які спочатку були зняті камерою, що має власні власні необроблені формати.

### Специфікації формату файлу DNG

У цьому розділі ми опишемо формат DNG як розширення TIFF 6.0.

* **Розширення файлів**: DNG використовує розширення «.DNG» або «.TIF».
* **Дерева SubIFD**: DNG не підтримує ланцюжки SubIFD, натомість DNG рекомендує використовувати дерева SubIFD, як зазначено в специфікаціях TIFF-EP. Найвища якість і роздільна здатність можуть використовувати значення NewSubFileType, що дорівнює 0, тоді як мініатюри зниженої якості мають використовувати значення NewSubFileType, що дорівнює 1. Також рекомендується, хоча це не обов’язково, щоб перший IFD мав мініатюру низької якості або роздільної здатності.
* **Порядок байтів**: Порядок байтів має підтримуватися читачами DNG, також для файлів із певної моделі камери.
* **Замасковані пікселі**: більшість датчиків камери обчислюють повністю замасковані пікселі на краю датчика за допомогою чорного кодування. Ці пікселі можна або включити, або обрізати, перш ніж зображення буде збережено у форматі DNG. Якщо замасковані пікселі не обрізані, площа цих пікселів має бути зазначена в тезі ActiveArea. Інформацію, зібрану з цих пікселів про рівень кодування чорного, слід використовувати або перед збереженням необроблених даних, або її можна включити у файл DNG із зазначенням рівня чорного.
* **Дефектні пікселі**: перед збереженням необроблених даних як DNG слід виключити дефектні пікселі.
* **Метадані**: метадані можуть бути включені в DNG будь-яким із наведених нижче способів:
** За допомогою тегів метаданих TIFF-EP або EXIF
** Через тег метаданих IPTC (33723)
** Використання тегу метаданих XMP (700)
* **Власницькі дані**: зазвичай постачальники включають власницькі дані в необроблений файл для використання їх власними конвертерами. DNG зберігає свої власні дані в приватних тегах, приватних IFD і в приватному MakerNote. Постачальники повинні використовувати теги DNGPrivateData та MakerNoteSafety, щоб програми, які редагують файли DNG, зберігали ці власні дані.

Нижче наведено деякі важливі обмеження та розширення тегів TIFF.

**BitsPerSample**

Підтримується від 8 до 32 біт/зразок. Глибина повинна бути однаковою для кожного зразка, якщо SamplesPerPixel не дорівнює 1. Але якщо BitsPerSample не дорівнює 8, 16 або 32, тоді біти мають бути упаковані в байти за допомогою TIFF FillOrder за замовчуванням 1 (великий порядок байтів).

**Стиснення**

Підтримуються два значення тегу стиснення:

* Значення № 1: нестиснуті дані.
* Значення № 7: стиснуті дані JPEG, базовий DCT JPEG або стиснення JPEG без втрат.

**Фотометрична інтерпретація**

Наступні значення підтримуються лише для мініатюр і попереднього перегляду IFD:

* 1 = BlackIsZero. Передбачається, що він знаходиться в колірному просторі гамма 2,2.
* 2 = RGB. Передбачається, що він знаходиться в просторі кольорів sRGB.
* 6 = YCbCr. Використовується для зображень попереднього перегляду в кодуванні JPEG.

Наступні значення підтримуються для необробленого IFD і вважаються власним кольоровим простором камери:

* 32803 # CFA (масив кольорових фільтрів).
* 34892 # LinearRaw.

**Орієнтація**

Тег орієнтації використовується для файлових браузерів, щоб вони могли виконувати обертання файлів DNG без втрат. Пристрої для читання DNG мають підтримувати всі можливі орієнтації, включаючи дзеркальну.

## Функції останньої версії DNG

Версія DNG 1.4, жовтень 2012 р., має такі додаткові функції.

* Кадрування користувача за замовчуванням
* Прозорість
* Плаваюча точка (HDR)
* Стиснення з втратами
* Проксі

## Посилання ##

* [Специфікації DNG – від Adobe](https://www.kronometric.org/phot/processing/DNG/dng_spec_1.4.0.0.pdf)
* [Цифровий негатив - Вікіпедія](https://en.wikipedia.org/wiki/Digital_Negative)
* [DNG – загальнодоступний архівний формат для необроблених даних цифрової камери](https://helpx.adobe.com/photoshop/digital-negative.html)

