{
  "date" : "2020-11-11",
  "keywords" :[ "BCP", "הרחבה", "קובץ", "פורמט קובץ", "סוג קובץ מסד נתונים", "פורמט קובץ מסד נתונים", "קבצי מסד נתונים" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "description" :"למד על פורמט קובץ BCP וממשקי API שיכולים ליצור ולפתוח קובצי BCP.",
  "title" :"BCP - SQL Server Bulk Copy Format",
  "linktitle" : "BCP",
  "menu" : {
    "docs" : {
      "parent" : "database"
}
},
  "lastmod" : "2020-08-12"
}

## מהו קובץ BCP?

BCP (Bulk Copy Format) הוא פורמט הנתונים הטכני של Microsoft SQL Server המגדיר מבני נתונים לאחסון ערכי סוגי נתונים שונים של מסד נתונים לייבוא/ייצוא. הפורמט מגדיר באופן מלא את הפרשנות של כל עמודת נתונים כך שניתן יהיה לקרוא את קבוצת הערכים המצוינת בקובץ הנתונים. כלי השירות [BCP](https://docs.microsoft.com/en-us/previous-versions/sql/sql-server-2008-r2/ms162802(v=sql.105)) משתמש בפורמט הקובץ BCP לקריאה נתונים מקובץ כזה ולזהות אותם.


## פורמט קובץ BCP

קובץ פורמט BCP הוא מסמך XML המגדיר את סדר העמודות, שם וסוג הנתונים. זה מאפשר למשתמשים לייבא/לייצא נתונים בכמות גדולה מקובץ נתונים המציין שדות אלה. זה מועיל בייבוא בכמות גדולה של ערכי נתונים מקובצי נתונים. המספר והסדר של שדות הנתונים בקובץ הנתונים עשויים להיות שונים מאלה שבעמודות טבלת היעד. זה כאשר קובץ פורמט הנתונים BCP בא לעזור על ידי ציון הסדר וסוג העמודות לייבוא הנתונים.

המבנה של קובץ הפורמט מיוצג בפורמט הבא.

```
<BCPFORMAT ...>
    <RECORD>
       <FIELD ID = "fieldID" xsi:type = "fieldType" [...] />
    </RECORD>
    <ROW>
       <COLUMN SOURCE = "fieldID" NAME = "columnName" xsi:type = "columnType" [...]  />
    </ROW>
 </BCPFORMAT>
```

### סוגי נתונים BCP

|סוג נתונים|טווח|ייצוג|
---|---|---|
|BigInt|-263 (-9,223,372,036,854,775,808) עד 263-1 (9,223,372,036,854,775,807)|`BigInt = ["-"]1*19DIGIT`|
|בינארי|1 עד 8000 בתים|פורמט של מחרוזת Unicode בקידוד הקסדצימלי `Binary = 32000OCTET`|
|Bit|0 או 1|מחרוזת Unicode פשוטה Bit = "0" / "1"|
|Char|1 עד 8000|פורמט מחרוזת Unicode, Char = 16000OCTET|
|CLRUDT|VarBinary|CLRUDT = 0*nOCTET עם n = 4 x (2,147,483,647)|
|תאריך|0001-01-01 עד 9999-12-31|פורמט מחרוזת YYYY-MM-DD|
|DateTime|1753-01-01 00:00:00.000 עד 9999-12-31 23:59:59.997| Unicode YYYY-MM-DD hh:mm:ss[.nnn] פורמט מחרוזת|
|DateTime2|0001-01-01 00:00:00.0000000 עד 9999-12-31 23:59:59.9999999.| Unicode YYYY-MM-DD hh:mm:ss[.nnnnnnnn] פורמט מחרוזת|
|DateTimeOffset|0001-01-01 00:00:00.0000000 עד 9999-12-31 23:59:59.9999999 באזור הזמן האוניברסלי המתואם (UTC)| Unicode YYYY-MM-DD hh:mm:ss[.nnnnnn] [{+|-}hh:mm] פורמט מחרוזת|
|עשרוני|-1038 + 1 עד 1038 – 1|פורמט מחרוזת Unicode `Decimal = ["-"] 0*38DIGIT ["."0*38DIGIT]`|
|Float|-1.79E+308 עד -2.23E-308; 0; מ-2.23E-308 עד 1.79E+308|פורמט מחרוזת Unicode|
|תמונה|רצף של בתים שנעים בין 0 ל-231 – 1 (2,147,483,647)|פורמט מחרוזת Unicode מקודדת הקסדצימלית|
|Int|-231 (-2,147,483,648) עד 231 – 1 (2,147,483,647)|פורמט מחרוזת Unicode|

## הפניות

* [פורמט BCP - Microsoft](https://docs.microsoft.com/en-us/openspecs/sql_data_portability/ms-bcp/54965c4d-34c7-400d-b970-1007984315a5)

