{
  "date" : "2020-11-11",
  "keywords" :["BAK" , "extension" , "ملف" , "تنسيق الملف" , "نوع ملف BAK" , "امتداد ملف BAK" , "نوع ملف قاعدة البيانات" , "تنسيق ملف قاعدة البيانات" , "ملفات قاعدة البيانات"] ,
  "author" : {
    "display_name" : "Kashif Iqbal"
} ,
  "draft" : "false",
  "toc" : true,
  "description" :"تعرف على تنسيق ملف BAK وواجهات برمجة التطبيقات التي يمكنها إنشاء ملفات BAK وفتحها." ,
  "title" :"تنسيق ملف BAK - ملف النسخ الاحتياطي لقاعدة البيانات" ,
  "linktitle" : "BAK",
  "menu" : {
    "docs" : {
      "parent" : "database"
}
} ,
  "lastmod" : "2020-12-04"
}

## ما هو ملف BAK؟

عادةً ما يكون الملف بامتداد .bak ملف نسخ احتياطي تستخدمه أدوات برمجية مختلفة لتخزين النسخ الاحتياطية من البيانات. من منظور قاعدة البيانات ، يتم استخدام ملف BAK بواسطة Microsoft SQL Server لتخزين محتويات قاعدة البيانات. يتم تخزين جميع البيانات والملفات المرتبطة بقاعدة البيانات بتنسيق الملف هذا ليتم استرجاعها في حالة احتمال تلف قاعدة البيانات أو عدم صلاحيتها لأي سبب من الأسباب. يمكن تخزين ملفات النسخ الاحتياطي وفهرستها على خوادم أخرى لأغراض السلامة. يمكن للعديد من التطبيقات إنشاء ملفات BAK مثل SQL Server Management Studio و Transact-SQL و Windows PowerShell.

## تنسيق ملف BAK

التفاصيل الداخلية لملف BAK غير معروفة ولكن يُفترض على نطاق واسع أنها تستند إلى تنسيق شريط Microsoft (MTF). تتوفر مواصفات MTF ويمكن الرجوع إليها لفهم بنية الملف. يوفر المستند تفاصيل حول تخزين MTF لأي شخص لديه معرفة عامة حول عمليات إدارة التخزين ومحركات الأشرطة وأنظمة الملفات.

### مجموعات البيانات

مجموعة البيانات هي مجموعة من الكائنات المكتوبة على وسائط التخزين (شريط ، قرص ضوئي ، إلخ) أثناء النسخ الاحتياطي للبيانات أو استعادتها. تتكون مجموعات البيانات من وسائط متعددة في حالة وجود حجم كبير من البيانات.

### العناصر الأساسية لـ MTF

يتكون ملف MTF من بعض العناصر الأساسية التي تشكل اللبنات الأساسية الخاصة به. هذه العناصر هي:

#### الكتل الوصفية

تُستخدم كتل الواصف (DBLK) للتحكم في التنسيق وتشكل الأسس الأساسية لملف MTF. يحدد ملف MTF واحد عدة DBLKs لكل دور فريد. كل DBLK عبارة عن كتلة متغيرة الطول من البيانات مقسمة إلى أربعة أجزاء:

* "رأس الكتلة المشترك" - هيكل طول ثابت مشترك لجميع DBLKs. هذا هو رأس الكتلة الوحيد المطلوب.
* "معلومات نوع DBLK" - كتلة طول ثابتة خاصة بنوع DBLK الذي يتم تحديده
* "بيانات نظام التشغيل" - بيانات محددة يتم تحديدها بناءً على نوع DBLK وأنظمة التشغيل
* "معلومات DBLK" - طول متغير معلومات محددة DBLK لا يمكن حفظها مع معلومات DBLK ذات الطول الثابت.

 {{< figure src="../bak.png" alt="تنسيق ملف النسخ الاحتياطي لـ Microsoft SQL" >}}

#### تدفق المعلومات

يتم استخدام تدفقات البيانات في ملف MTF لتغليف البيانات والمحاذاة. وهو يتألف من رأس دفق ، متبوعًا ببيانات التدفق. يمكن لرأس الدفق تغليف نوع واحد فقط من بيانات الدفق.

{{< figure src="../bak_datastream.png" alt="تنسيق ملف النسخ الاحتياطي لـ Microsoft SQL" >}}

#### FileMarks

يتم استخدام علامة الملف للفصل المنطقي والوصول السريع داخل الوسائط. تتم محاكاة علامات الملف بواسطة برنامج تشغيل الجهاز أو باستخدام كتلة واصف Soft Filemark في حالة عدم توفير الجهاز المستخدم لعلامات الملف.

## مراجع ##

* [[MS-BCP]: تنسيق النسخ المجمع](https://learn.microsoft.com/en-us/openspecs/sql_data_portability/ms-bcp/54965c4d-34c7-400d-b970-1007984315a5)

