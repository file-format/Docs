{
  "date" : "2019-10-11",
  "keywords" :["shp file", "shp file format", "what is a shp file", "file", "shp example", "shp file extension", "extension", "format"],
  "author" : {
    "display_name" : "Kashif Iqbal"
} ,
  "draft" : "false",
  "toc" : true,
  "title" :"SHP - ESRI Shapefile" ,
  "description":"تعرف على تنسيق ملف SHP وواجهات برمجة التطبيقات التي يمكنها إنشاء ملفات SHP وفتحها." ,
  "linktitle" : "SHP",
  "menu" : {
    "docs" : {
      "parent" : "gis"
}
} ,
  "lastmod" : "2019-09-10"
}

## ما هو ملف SHP؟

SHP هو امتداد الملف لأحد أنواع الملفات الأساسية المستخدمة لتمثيل ESRI Shapefile. وهو يمثل المعلومات الجغرافية المكانية في شكل بيانات متجه لاستخدامها بواسطة تطبيقات نظم المعلومات الجغرافية (GIS). تم تطوير التنسيق كمواصفات مفتوحة من أجل تسهيل التشغيل البيني بين ESRI ومنتجات البرامج الأخرى.

## شرح البيانات

كما ذكرنا ، يصف تنسيق ملف الشكل المعلومات الجغرافية المكانية لمجموعة البيانات كميزات متجهة. تتضمن ميزات المتجه هذه:

* نقاط
* خطوط
* المضلعات

يمكن أن تمثل هذه الميزات مجتمعة تقريبًا أي نوع من الأشكال مثل آبار المياه ، وحدود الدولة ، والنقاط المكانية ، وتدفق الأنهار ، والبحيرات ، وما إلى ذلك. يمكن أن تحتوي كل ميزة متجهية على سمات تحدد بالفعل الغرض من هذه الميزة. على سبيل المثال ، يمكن أن يكون لملف الشكل الذي يحتوي على مدن لوس أنجلوس اسم المدينة ودرجة الحرارة كسمات تعطي تمثيلًا ذا مغزى للبيانات المكانية.

## الملفات المرتبطة

لا يمكن استخدام ملف shp المستقل بواسطة تطبيقات البرامج لإضفاء معنى للبيانات التي يحتوي عليها. من أجل فهم المعلومات الواردة في مثل هذا الملف ، يستخدم ملف الشكل الملفات الإلزامية الإضافية التالية.

* ملف shx - ملف الفهرس
* ملف dbf - ملف dBASE يخزن جميع سمات الأشكال في الملف الرئيسي
* ملف prj - يخزن معلومات المشروع الخاصة بالملف

يمكن أن تكون هناك ملفات اختيارية أخرى تشترك في نفس اسم الملف الرئيسي.

## مواصفات تنسيق ملف SHP

المواصفات المفتوحة لملف الأشكال متاحة على الإنترنت من ESRI في شكل [الوصف الفني](http://www.esri.com/library/whitepapers/pdfs/shapefile.pdf) وتوضح الهيكل العام للملف بالتفصيل. تتكون المعلومات في ملف .shp الرئيسي من رؤوس وسجلات. يتبع رأس الملف ذو الطول الثابت سجلات متغيرة الطول حيث يتكون كل سجل من رأس سجل بطول ثابت متبوعًا بمحتويات سجل متغيرة الطول.

### رأس ملف SHP الرئيسي

يبدأ رأس الملف الرئيسي من بداية الملف ويبلغ طوله 100 بايت. تنظيم رأس الملف الرئيسي هذا جنبًا إلى جنب مع موضع البايت والقيمة والنوع وترتيب البايت كما هو موضح في الجدول التالي.


| البايت | الحقل | القيمة | النوع | ترتيب البايت
---|---|---|---|---|
| 0-3 | رمز الملف | 9994 | عدد صحيح | Endian كبير
| 4-23 | غير مستخدم | 0 | عدد صحيح | Endian كبير
| 24-27 | طول الملف | طول الملف | عدد صحيح | Endian كبير
| 28-31 | الإصدار | 1000 | عدد صحيح | Little Endian
| 32-35 | نوع الشكل | نوع الشكل | عدد صحيح | Endian الصغير
| 36-67 | مستطيل الحد الأدنى | Xmin و Ymin و Xmax و Ymax | مزدوج | Little Endian
| 68-83 | الصندوق المحيط | Zmin ، Zmax | مزدوج | Little Endian
| 84-99 | الصندوق المحيط | Mmin ، Mmax | مزدوج |

وتجدر الإشارة إلى أن قيمة طول الملف هي الطول الإجمالي للملف بكلمات 16 بت والتي تتضمن أيضًا خمسين كلمة 16 بت التي تشكل الرأس.

#### أنواع الأشكال

قيم حقل أنواع الأشكال في الجدول أعلاه هي كما يلي:


| القيمة | نوع الشكل
---|---|
| 0 | شكل فارغ
| 1 | نقطة
| 3 | متعدد الخطوط
| 5 | مضلع
| 8 | MultiPoint
| 11 | بوينت
| 13 | PolyLineZ
| 15 | المضلع Z
| 18 | MultiPointZ
| 21 | نقطة
23 | بولي لاين م
| 25 | مضلع M.
| 28 | MultiPointM
| 31 | متعدد التصحيح

### سجلات البيانات ###

يتبع رأس الملف الرئيسي سجلات متغيرة الطول حيث يتكون كل سجل من رأس سجل بطول ثابت متبوعًا بمحتويات سجل متغيرة الطول.

#### رأس السجل ####

يحتوي رأس السجل على معلومات حول رقم السجل وطول محتوى السجل بطول ثابت يبلغ 8 بايت. تنظيم رأس السجل كما يلي:


| البايت | الحقل | القيمة | النوع | ترتيب البايت
---|---|---|---|---|
| 0-3 | رقم السجل | رقم السجل | عدد صحيح | كبير
| 4-7 | طول السجل | طول السجل | عدد صحيح | كبير

#### محتويات السجل ####

تتكون محتويات سجل الشكل من نوع الشكل متبوعًا بالبيانات الهندسية لهذا الشكل. يمثل نوع الشكل 0 شكلاً فارغًا لا يحتوي على بيانات هندسية للشكل. طول محتويات السجل هو انعكاس لأجزاء الشكل والرؤوس. لنأخذ مثالاً على نوع Point Shape لتوضيح كيفية احتواء السجل على معلومات حول نوع الشكل هذا.

تمثل النقطة موقعًا جغرافيًا معينًا بالترتيب X ، Y حيث يتم تمثيل كل إحداثي بقيمة مزدوجة الدقة. يوضح الجدول التالي ترتيب نوع شكل النقطة.


| البايت | نوع الشكل | القيمة | النوع | الرقم | ترتيب البايت
---|---|---|---|---|---|
| 0-3 | نوع الشكل | 1 | عدد صحيح | 1 | صغير
| 4-11 | X | X | مزدوج | 1 | صغير
| 12-19 | ص | ص | مزدوج | 1 | صغير

يمكن العثور على أمثلة لأنواع الأشكال الأخرى في وثيقة الوصف الفني لـ ESRI.

## مراجع ##

* [ESRI Shapefile Technical Description](http://www.esri.com/library/whitepapers/pdfs/shapefile.pdf) بواسطة ESRI

