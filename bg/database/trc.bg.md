{
  "date" : "2021-08-24",
  "keywords" :[ "trc файл", "trc файлов формат", "какво е trc файл", "файл", "trc пример", "trc файлово разширение", "разширение", "формат" ],
  "author" : {
    "display_name" : "Muhammad Umar"
},
  "draft" : "false",
  "toc" : true,
  "description" :"Научете за TRC файловия формат и API, които могат да създават и отварят TRC файлове.",
  "title" :"TRC - Файл за проследяване на SQL Server",
  "linktitle" : "TRC",
  "menu" : {
    "docs" : {
      "parent" : "database"
}
},
  "lastmod" : "2021-08-24"
}

## Какво е TRC файл?
Файл с разширение .trc съдържа резултатите от проследяването на дейността на база данни на Miscrosoft SQL сървър. Тези файлове се създават от софтуерен SQL Server Profiler; обикновено пакетиран със софтуера Microsoft SQL Server. Администраторите на базата данни могат да анализират поредица от изрази на база данни и могат да прегледат журнала за проследяване, ако се подозират някакви грешки или предупреждения. Тези файлове обикновено се намират в типичната папка LOG на MSSQL в директорията Program Files на операционна система Windows.

## TRC файлов формат
Файловият формат TRC се използва от SQL Server Profiler за автоматично генериране на нова следа на наскоро изпълнените изрази от MS SQL сървъра. SQL Server Profiler използва шаблона по подразбиране за всяко ново проследяване. Софтуерът обаче включва няколко предварително дефинирани шаблона за наблюдение на определени видове събития. Също така SQL Server Profiler може да се използва за създаване на шаблони, които дефинират класовете събития и колоните с данни, които да се включат в проследяванията.

### Предварително дефинирани шаблони
Ето списъка с някои предварително дефинирани шаблони, включени в SQL Server Profiler:
- **SP_Counts**: Улавя поведението на изпълнение на съхранена процедура във времето.
- **Стандартен**: Обща начална точка за създаване на следа.
- **TSQL**: Улавя всички Transact-SQL изрази, които са изпратени на SQL Server от клиенти и издаденото време.
- **TSQL_Duration**: Улавя всички Transact-SQL изрази, изпратени до SQL Server от клиенти, тяхното време за изпълнение и ги групира по продължителност.
- **TSQL_Grouped**: Използвайте за проучване на заявки от определен клиент или потребител.
- **TSQL_Locks**: Използвайте за отстраняване на неизправности при блокирания, изтичане на времето за заключване и заключване на ескалационни събития.
- **TSQL_Replay**: Използвайте за извършване на итеративна настройка, като например тестване с бенчмарк.
- **TSQL_SPs**: Използвайте за анализиране на стъпките на компонента на съхранените процедури.
- **Настройка**: Използвайте за създаване на изход за проследяване, който Database Engine Tuning Advisor може да използва като работно натоварване за настройка на бази данни.
### Свържете проследяване с данните от регистъра на производителността на Windows
SQL Server Profiler може да се използва за отваряне на регистър на производителността на Microsoft Windows, за избор на броячи, които да се съпоставят с проследяване, и показване на избраните броячи на производителност заедно с проследяването в GUI на MS SQL Server Profiler. За да посочите данните от регистрационния файл на производителността, които корелират с избраното събитие за проследяване, вертикална червена лента в панела с данни на системния монитор на SQL Server Profiler.


## Препратки ##

* [SQL Server Profiler](https://learn.microsoft.com/en-us/sql/tools/sql-server-profiler/sql-server-profiler?view=sql-server-ver15)

