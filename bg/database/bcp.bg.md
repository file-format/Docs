{
  "date" : "2020-11-11",
  "keywords" :[ "BCP", "разширение", "файл", "файлов формат", "Тип файл на база данни", "Файлов формат на база данни", "Файлове на база данни"],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "description" :"Научете за файловия формат BCP и API, които могат да създават и отварят BCP файлове.",
  "title" :"BCP – Файлов формат за масово копиране на SQL Server",
  "linktitle" : "BCP",
  "menu" : {
    "docs" : {
      "parent" : "database"
}
},
  "lastmod" : "2020-08-12"
}

## Какво е BCP файл?

BCP (Bulk Copy Format) е техническият формат на данните на Microsoft SQL Server, който дефинира структури от данни за съхраняване на различни стойности на типове данни в базата данни за импортиране/експортиране. Форматът напълно дефинира интерпретацията на всяка колона с данни, така че наборът от стойности, посочени във файла с данни, да може да бъде прочетен. Помощната програма [BCP](https://learn.microsoft.com/en-us/previous-versions/sql/sql-server-2008-r2/ms162802(v=sql.105)) използва файловия формат BCP за четене данни от такъв файл и да го идентифицирате.


## BCP файлов формат

Файлът във формат BCP е XML документ, който определя реда на колоните, името и типа на данните. Позволява на потребителите да импортират/експортират голямо количество данни от файл с данни, посочвайки тези полета. Това е полезно при групово импортиране на стойности на данни от файлове с данни. Броят и редът на полетата с данни във файла с данни може да са различни от тези в колоните на целевата таблица. Това е моментът, когато файлът с формат на данни BCP идва на помощ, като указва реда и типа на колоните за импортиране на данните.

Структурата на файла с формата е представена в следния формат.

```
<BCPFORMAT ...>
    <RECORD>
       <FIELD ID = "fieldID" xsi:type = "fieldType" [...] />
    </RECORD>
    <ROW>
       <COLUMN SOURCE = "fieldID" NAME = "columnName" xsi:type = "columnType" [...]  />
    </ROW>
 </BCPFORMAT>
```

### BCP типове данни

|Тип данни|Диапазон|Представяне|
---|---|---|
|BigInt|-263 (-9,223,372,036,854,775,808) до 263-1 (9,223,372,036,854,775,807)|`BigInt = ["-"]1*19DIGIT`|
|Двоичен|1 до 8000 байта|шестнадесетично кодиран Unicode формат на низ `Двоичен = 32000OCTET`|
|Бит|0 или 1|прост Unicode низ Бит = "0" / "1"|
|Char|1 до 8000|Уникод низов формат, Char = 16000OCTET|
|CLRUDT|VarBinary|CLRUDT = 0*nOCTET с n = 4 x (2,147,483,647)|
|Дата|0001-01-01 до 9999-12-31|ГГГГ-ММ-ДД формат на низ|
|ДатаЧас|1753-01-01 00:00:00.000 до 9999-12-31 23:59:59.997| Unicode ГГГГ-ММ-ДД чч:мм:сс[.nnn] формат на низ|
|DateTime2|0001-01-01 00:00:00.0000000 до 9999-12-31 23:59:59.9999999.| Unicode ГГГГ-ММ-ДД чч:мм:сс[.nnnnnnn] формат на низ|
|DateTimeOffset|0001-01-01 00:00:00.0000000 до 9999-12-31 23:59:59.9999999 в часовата зона на координираното универсално време (UTC)| Unicode ГГГГ-ММ-ДД чч:мм:сс[.nnnnnnn] [{+|-}чч:мм] формат на низ|
|Десетичен|-1038 + 1 до 1038 – 1|Формат на Unicode низ `Decimal = ["-"] 0*38DIGIT ["."0*38DIGIT]`|
|Float|-1.79E+308 до -2.23E-308; 0; от 2.23E-308 до 1.79E+308|Unicode string format|
|Изображение|поредица от байтове, които варират от 0 до 231 – 1 (2,147,483,647)|шестнадесетично кодиран Unicode формат на низ|
|Int|-231 (-2 147 483 648) до 231 – 1 (2 147 483 647)|Уникод формат на низ|

## Препратки

* [BCP формат – Microsoft](https://learn.microsoft.com/en-us/openspecs/sql_data_portability/ms-bcp/54965c4d-34c7-400d-b970-1007984315a5)

