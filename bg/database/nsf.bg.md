{
  "date" : "2020-11-11",
  "keywords" :[ "NSF", "разширение", "файл", "файлов формат", "Тип файл на база данни", "Файлов формат на база данни", "Файлове на база данни" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "description" :"Научете за файловия формат NSF и API, които могат да създават и отварят NSF файлове.",
  "title" :"NSF файлов формат - Lotus Notes формат на база данни",
  "linktitle" : "NSF",
  "menu" : {
    "docs" : {
      "parent" : "database"
}
},
  "lastmod" : "2020-08-12"
}

## Какво е NSF файл?

Файл с разширение .nsf (Notes Storage Facility) е файлов формат на база данни, използван от [софтуера IBM Notes](https://en.wikipedia.org/wiki/HCL_Domino), който преди беше известен като Lotus Notes. Той дефинира схемата за съхраняване на различни видове обекти като имейли, срещи, документи, формуляри и изгледи. Цялата тази информация се съдържа в един NSF файл за бизнес сътрудничество, подобно на PST/OST файл. Някои от приложенията, които могат да отварят NSF файлове, включват IBM Lotus Notes и IBM Domino.

## Спецификации на файловия формат на NSF

NSF файловете са двоични по природа и техните спецификации са достъпни от Joachim Metz в [Github](https://github.com/libyal/libnsfdb/blob/main/documentation/Notes%20Storage%20Facility%20(NSF)%20database%20file%20format.asciidoc). Според тези подробности NSF файл се състои от:

* Заглавка на файл
* Заглавка на базата данни

Освен това се състои от:

* Суперблок
* Блок дескриптор на кофа
* Растерно изображение
* Векторна кофа за запис на преместване
* Обобщени кофи
* Кофи без обобщение


### NSF заглавка на файл

Заглавката на файла NSF е с размер 6 байта. Състои се от:

|Офсет|Размер|Стойност|Описание|
---|---|---|---|
0|2|0x1a 0x00|Подпис|
2|4| |Размерът на заглавката на базата данни|

### Заглавка на базата данни

Заглавката на базата данни на NSD съдържа следните потвърдени стойности.

* Информация за база данни
* Идентификатор на база данни (DBID)
* Информация за репликация
* Флагове за буфер на информация за база данни
* Заглавие
* Категории
* Клас
* Дизайн клас (име на шаблон)
* Специални идентификатори на бележки
* Подложка
* Информация за база данни 2
* Информация за база данни 3
* Информация за база данни 4
* Информация за база данни 5
* Подложка
* Идентификатор на екземпляр на база данни (DBIID)
* История на репликация

## Препратки

* [NSF формат – Github](https://github.com/libyal/libnsfdb/blob/main/documentation/Notes%20Storage%20Facility%20(NSF)%20database%20file%20format.asciidoc)

