{
  "date" : "2022-05-09",
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "description":"Научете за PYC файловия формат и API, които могат да създават и отварят PYC файлове.",
  "title" :"PYC файлов формат - Python компилиран файл",
  "linktitle" : "PYC",
  "menu" : {
    "docs" : {
      "parent" : "executable"
}
},
  "lastmod" : "2022-05-09"
}

## Какво е PYC файл?

PYC файлът е компилиран изходен файл, генериран от изходния код, написан на езика за програмиране Python. Когато PY файлът се изпълнява с помощта на интерпретатора на Python, той се преобразува в байт код за изпълнение. В същото време компилираният байт код също се запазва като .pyc файл, за да може да се използва повторно от кеша по-късно, ако е приложимо.

## Структура на файловия формат PYC

PYC файловете са в байт код и техните спецификации на файловия формат не са публично достъпни. Разследване от някои източници обаче показва, че [структурата на PYC файл](https://nedbatchelder.com/blog/200804/the_structure_of_pyc_files.html#:~:text=pyc%20file%20is%20a%20binary,A% 20marshaled%20code%20object.) се състои от:

* `Четири-байтово магическо число` - Просто два байта, които се променят с всяка промяна на маршалиращия код, и след това два байта от 0d0a.
* `Четири-байтово времево клеймо за модификация` - Unix времево клеймо за модификация на изходния файл, който е генерирал .pyc, така че да може да бъде повторно компилиран, ако източникът се промени.
* `Маршалиран кодов обект` - резултатът от marshal.dump на кодовия обект, който е резултат от компилирането на изходния файл.

## Препратки

* [Структурата на .pyc файловете](https://nedbatchelder.com/blog/200804/the_structure_of_pyc_files.html#:~:text=pyc%20file%20is%20a%20binary,A%20marshalled%20code%20object.)

