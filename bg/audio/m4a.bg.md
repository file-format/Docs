{
  "date" : "2021-04-26",
  "keywords" :[ "m4a", "mp3", "файл", "разширение", "формат", "какво е m4a файлов формат", "музика", "m4a файлов формат", "M4A срещу MP3", "m4a спецификация на файлов формат "],
  "author" : {
    "display_name" : "Muhammad Umar"
},
  "draft" : "false",
  "toc" : true,
  "description" :"Научете за файловия формат M4A и API, които могат да създават, конвертират и отварят M4A файлове.",
  "title" :"M4A - MPEG-4 аудио файл",
  "linktitle" : "M4A",
  "menu" : {
    "docs" : {
      "parent" : "audio"
}
},
  "lastmod" : "2021-04-26"
}

## Какво е M4A файл?

**Файловият формат M4A** е аудио файл, създаден чрез използване на AAC (Advanced Audio Coding), което е известно като компресия със загуби. Думата M4A съкратено като MPEG 4 Audio. Тези аудио файлове обикновено имат файлово разширение .m4a. Това важи особено за незащитено съдържание. Може да съхранява различни видове аудио съдържание, като аудиокниги, песни и подкасти. M4A обикновено се реализира като по-усъвършенстван формат от MP3, който обикновено не е проектиран само за аудио. Това е просто аудио слой в MPEG 1 или 2 видео файлове.

Форматът M4A е криптиран от FairPlay Digital Rights Management, тъй като са продадени чрез iTunes Store и използват разширението .m4p. Apple iPhones използват MPEG-4 аудио за своите мелодии, но тези аудио файлове използват разширението .m4r.


## M4A срещу MP3

И M4A, и [MP3](https://docs.fileformat.com/audio/mp3/) са файлови формати само за аудио.

**M4A**: По-добро от MP3 по отношение на качество и размери, когато се кодират със същата побитова скорост. Файловото разширение .m4a е толкова често срещано, защото те са били използвани от Apple за използване в iTunes Music Store. M4A е аудио файл, който е компресиран с помощта на MPEG-4 технология; алгоритъм за компресия със загуби. Основно се свързва с „MPEG-4 Audio Layer“, файловете с разширение .m4a са аудио слоя на MPEG-4 филми. Той е предназначен да изпревари MP3 и да се превърне в новия стандарт в аудио компресията. Той е много близо до MP3 по много начини, но въведен, за да има по-добро качество при същия или дори по-малък размер на файла. Форматът M4A беше въведен за първи път от Apple. Типът формат също е реализиран като Apple Lossless Encoder (ALE).

Следователно, в момента M4A не може да постигне основния успех на MP3, тъй като аудио форматът все още не може да се възпроизвежда. По някакъв начин е ограничен само до MacOS, iPod и други продукти на Apple.

**Mp3**: Най-известният цифров аудио формат. Това беше и един от първите компресирани формати на сцената и стана много популярен сред любителите на музиката. Основният му успех е толкова бърз, че този тип файл може да се възпроизвежда универсално и с почти всичко, хардуер или софтуер. В общ смисъл, M4A ще произведе по-добро качество на звука, но мнозина биха казали, че независимо дали е вярно или не, разликата в звука не се различава и би било загуба на време да се опитвате да конвертирате MP3 файлове в M4A файлове. В крайна сметка преобразуването просто ще ви накара да загубите оригиналното качество на звука.

## Спецификация на файловия формат M4A

Файловете M4A се състоят от последователни парчета. Всяка част има 8 байтова заглавка и е подразделена като:
- 4-байтов размер на част (big-endian, старши байт първи)
- 4-байтов тип парче - един от предварително дефинираните подписи: "ftyp", "mdat", "moov", "pnot", "udta", "uuid", "moof", "free", "skip", "jP2", "wide", "load", "ctab", "imap", "matt", "kmat", "clip", "crgn", "sync", "chap", "tmcd", "scpt ", "ssrc", "PICT".

Първата част ще бъде от тип "ftype" и има подтип при отместване 8. M4A, дефиниран от подтип, който трябва да бъде "M4A_", за подтип M4B трябва да бъде "M4B_", а за подтип M4P трябва бъде "M4P_".

Повтаряйки парчета, докато бъде открита част от неизвестен тип, ще състави M4A (MPEG-4 Audio) файл.

## Препратки ##

* [MPEG-4 част 14 - от Wikipedia](https://en.wikipedia.org/wiki/MPEG-4_Part_14)
* [MPEG-4 част 14 аудио (M4A, M4B, M4P) формат и пример за възстановяване](https://www.file-recovery.com/m4a-signature-format.htm)

