{
  "date" : "2019-10-11",
  "keywords" :[ "tgs файл", "tgs файлов формат", "какво е tgs файл", "файл", "tgs пример", "tgs файлово разширение", "разширение", "формат" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"TGS – Файлов формат за анимирани стикери на Telegram",
  "description":"Научете за файловия формат TGS и API, които могат да създават и отварят TGS файлове.",
  "linktitle" : "TGS",
  "menu" : {
    "docs" : {
      "parent" : "compression"
}
},
  "lastmod" : "2021-04-02"
}

## Какво е TGS файл?

Файл с разширение .tgs е файл с анимиран стикер, който беше въведен от услугата за междуплатформени съобщения [Telegram](https://core.telegram.org/stickers#animated-stickers). Анимираните стикери се използват от потребителите на приложения за съобщения, за да изпращат по-усъвършенствано и оживено съдържание в съобщенията, за разлика от статичните графики, които са неподвижни изображения. Първоначално Telegram използва файловия формат [WEBP](/bg/image/webp/) за стикери за неподвижни изображения. Файловият формат TGS може да съхранява анимационни данни при по-високи разделителни способности и по-малък размер на файла в сравнение със статичните WEBP стикери. TGS файловете могат да се отварят с помощта на приложения като Telegram, 7-zip, Apple Archive Utility и Corel WinZip.

## TGS файлов формат

Telegram представи файловия формат TGS през юли 2019 г. въз основа на библиотеката Lottie. TGS файлът се състои от [JSON](/bg/web/json/) текст, който се експортира от анимация в Adobe After Effects. Експортираният JSON текст се компресира с gzip компресия, която намалява размера на файла. JSON информацията за текстовия файл се съхранява в текстов файл, който се превръща в основата на висока степен на компресия.

### Спецификации на стикери на TGS

Файловият формат TGS налага определени ограничения върху създаването на анимирани стикери TGS. TGS анимиран файл:

* Размерът на стикера/платното трябва да бъде 512х512 пиксела.
* Стикерните обекти не трябва да напускат платното.
* Продължителността на анимацията не трябва да надвишава 3 секунди.
* Всички анимации трябва да се повтарят.
* Размерът на стикера не трябва да надвишава 64 KB след изобразяване в Bodymovin.
* Всички анимации трябва да се изпълняват с 60 кадъра в секунда.

### Примерен TGS JSON текст

Примерен анимиран стикер, когато се разархивира, съдържа следното текстово съдържание в JSON.
```
$ head -c 200 animated-sticker
{"tgs":1,"v":"5.5.2","fr":60,"ip":0,"op":180,"w":512,"h":512,"nm":"C-07","ddd":0,"assets":[],"comps":[],"layers":[{"ddd":0,"ind":1,"ty":3,"nm":"master","sr":1,"ks":{"o":{"a":0,"k":0},"r":{"a":0,"k":0}
```
## Препратки ##

* [TGS](https://core.telegram.org/stickers#animated-stickers)
* [gzip - Уикипедия](https://en.wikipedia.org/wiki/Gzip)

