{
  "date" : "2019-12-10",
  "keywords" :[ "CSV", "файл", "разширение", "файлов формат", "Стойности, разделени със запетая", "Електронна таблица"],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "description":"Научете за CSV файловия формат и API, които могат да създават и отварят CSV файлове.",
  "title" :"CSV файлов формат",
  "linktitle" : "CSV",
  "menu" : {
    "docs" : {
      "parent" : "spreadsheet"
}
},
  "lastmod" : "2019-12-10"
}

## Какво е CSV файл?

Файловете с разширение .csv (стойности, разделени със запетая) представляват обикновени текстови файлове, които съдържат записи на данни със стойности, разделени със запетая. Всеки ред в CSV файл е нов запис от набора от записи, съдържащи се във файла. Такива файлове се генерират, когато се предвижда прехвърляне на данни от една система за съхранение към друга. Тъй като всички приложения могат да разпознават записи, разделени със запетая, импортирането на такива файлове с данни в базата данни се извършва много удобно. Почти всички приложения за електронни таблици като Microsoft Excel или OpenOffice Calc могат да импортират CSV без много усилия. Данните, импортирани от такива файлове, се подреждат в клетки на електронна таблица за представяне на потребителя.

## Кратка история ##

Следват някои бързи факти за произхода и историята на файловия формат CSV.

* 1972 - компилаторът на IBM Fortran (разширено ниво H) ги поддържа под OS/360

* 1978 - Вход/изход, насочен към списък, се поддържа от FORTRAN 77, който използва запетаи и интервали за разделители

* 2005 г. - CSV е стандартизиран с [RFC4180](https://tools.ietf.org/html/rfc4180) като MIME тип съдържание.

* 2013 г. - недостатъците на RFC4180 бяха отстранени по препоръка на W3C

* 2015 г. - W3C направи първите чернови на препоръки за стандарти за CSV метаданни, които започнаха като препоръка през декември 2015 г.

## Конвертиране на CSV файлове ##

CSV файловете могат да бъдат конвертирани в няколко различни файлови формата с помощта на приложенията, които могат да отварят тези файлове. Например Microsoft Excel може да импортира данни от CSV файлов формат и да ги записва в XLS, [XLSX](/bg/spreadsheet/xlsx/), [PDF](/bg/pdf/), [TXT](/bg/word-processing/txt/) , XML и [HTML](/bg/web/html/) файлови формати. По подобен начин други настолни и онлайн услуги предоставят възможност за експортиране на CSV файлове в HTML, ODS и [RTF](/bg/word-processing/rtf/).

## CSV файлов формат ##

Известно е, че файловият формат CSV е посочен в [RFC4180](https://tools.ietf.org/html/rfc4180). Той определя всеки файл като CSV съвместим, ако:

* Всеки запис се намира на отделен ред, разделен с нов ред (CRLF). Например:
* aaa,bbb,ccc CRLF
* zzz,yyy,xxx CRLF
* Последният запис във файла може или не може да има прекъсване на краен ред. Например:
* aaa,bbb,ccc CRLF
* zzz,yyy,xxx
* Може да има незадължителен заглавен ред, който да се появява като първи ред на файла със същия формат като нормалните редове за запис. Тази заглавка ще съдържа имена, съответстващи на полетата във файла, и трябва да съдържа същия брой полета като записите в останалата част от файла (наличието или отсъствието на заглавния ред трябва да бъде посочено чрез незадължителния параметър "заглавие" на това тип MIME). Например:
* име_на_поле,име_на_поле,име_на_поле CRLF
* aaa,bbb,ccc CRLF
* zzz,yyy,xxx CRLF
* ﻿В заглавката и всеки запис може да има едно или повече полета, разделени със запетаи. Всеки ред трябва да съдържа еднакъв брой полета в целия файл. Пространствата се считат за част от поле и не трябва да се пренебрегват. Последното поле в записа не трябва да бъде последвано от запетая. Например:
* aaa,bbb,ccc
* Всяко поле може или не може да бъде затворено в двойни кавички (но някои програми, като Microsoft Excel, изобщо не използват двойни кавички). Ако полетата не са оградени с двойни кавички, тогава двойните кавички може да не се показват вътре в полетата. Например:\
* "aaa", "bbb", "ccc" CRLF
* zzz,yyy,xxx
* Полетата, съдържащи нови редове (CRLF), двойни кавички и запетаи, трябва да бъдат оградени с двойни кавички. Например:
* "aaa", "b CRLF
* bb", "ccc" CRLF
* zzz,yyy,xxx
* Ако се използват двойни кавички за ограждане на полета, тогава двойна кавичка, която се появява вътре в поле, трябва да бъде екранирана, като се предхожда от друга двойна кавичка. Например:
* "aaa", "b" "bb", "ccc"

Въпреки това, в светлината на съвременната употреба, разделителят не е ограничен само до запетая и може да бъде точка и запетая, табулация или интервали. Приложения като Microsoft Excel предоставят опция за указване на знака за разделител за импортиране на записи от CSV файл.

## Препратки

* [RFC 4180](https://tools.ietf.org/html/rfc4180)
* [RFC 2048](https://tools.ietf.org/html/rfc2048)
* [CSV – Wikipedia](https://en.wikipedia.org/wiki/Comma-separated_values)

