{
  "date" : "2020-01-11",
  "keywords" :[ "x файл", "x файлов формат", "какво е x файл", "файл", "x пример", "x файлово разширение", "разширение", "формат" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"X - файлов формат DirectX 2.0",
  "description":"Научете за файловия формат на DirectX X и API, които могат да отварят и създават файлове на DirectX X.",
  "linktitle" : "X",
  "menu" : {
    "docs" : {
      "parent" : "3d"
}
},
  "lastmod" : "2020-01-11"
}

## Какво е X файл?

Файл с разширение .x се отнася до [DirectX](https://www.microsoft.com/en-us/download/search.aspx?q=directx) 3D Graphics наследен файлов формат, който беше въведен с Microsoft DirectX 2.0. Използва се за изобразяване на 3D графики в игри и определя структурите за мрежи, текстури, анимации и дефинирани от потребителя обекти. Той е отхвърлен от 2014 г., тъй като файловият формат Autodesk FBX служи по-добре като по-модерен формат. X се управлява от шаблони и не съдържа никакви познания за употреба.

Можете да отваряте DirectX X файлове с помощта на Microsoft DirectX и обикновени текстови редактори.

## X файлов формат

[Референтният файл X](https://learn.microsoft.com/en-us/windows/win32/direct3d9/dx9-graphics-reference-d3dx-x-file) съдържа справочна информация за елементите на API, които се използват за работа с DirectX .x файлове. Форматът предоставя примитиви на данни от ниско ниво, които се използват от други приложения за дефиниране на примитиви от по-високо ниво чрез шаблони за данни. DirectX 6.0 въведе интерфейси и методи, които позволяват четене от и писане в .x файлове. DirectX 3.0 представи двоична версия на този файлов формат.

[Справката за файлов формат X](https://learn.microsoft.com/en-us/windows/win32/direct3d9/dx9-graphics-reference-x-file-format), дефинирана от DirectX 9, съдържа справочна информация за .x файлове в двоично, както и текстово кодиране.

### Двоично кодиране

[Двоичният формат](https://learn.microsoft.com/en-us/windows/win32/direct3d9/binary-encoding) дефинира DirectX X формата като токенизирано представяне на текстовия формат. Тези токени могат да бъдат самостоятелни, за да дадат граматична структура, или могат да бъдат токени, носещи запис, предоставящи необходимите данни.

#### Заглавие

Двоичният хедър може да се чете и записва, като се използват следните дефиниции.

```
#define XOFFILE_FORMAT_MAGIC \
  ((long)'x' + ((long)'o' << 8) + ((long)'f' << 16) + ((long)' ' << 24))

#define XOFFILE_FORMAT_VERSION \
  ((long)'0' + ((long)'3' << 8) + ((long)'0' << 16) + ((long)'2' << 24))

#define XOFFILE_FORMAT_BINARY \
  ((long)'b' + ((long)'i' << 8) + ((long)'n' << 16) + ((long)' ' << 24))

#define XOFFILE_FORMAT_TEXT   \
  ((long)'t' + ((long)'x' << 8) + ((long)'t' << 16) + ((long)' ' << 24))

#define XOFFILE_FORMAT_COMPRESSED \
  ((long)'c' + ((long)'m' << 8) + ((long)'p' << 16) + ((long)' ' << 24))

#define XOFFILE_FORMAT_FLOAT_BITS_32 \
  ((long)'0' + ((long)'0' << 8) + ((long)'3' << 16) + ((long)'2' << 24))

#define XOFFILE_FORMAT_FLOAT_BITS_64 \
  ((long)'0' + ((long)'0' << 8) + ((long)'6' << 16) + ((long)'4' << 24))
```

### Кодиране на текст

DirectX .x файловете не зависят от начина на използване на файла и не са специфични за нито едно приложение. Този подход, управляван от шаблони, позволява файловият формат .x да се използва от всяко клиентско приложение.


#### Заглавие

Заглавката с променлива дължина е задължителна и трябва да бъде в началото на потока от данни. Заглавката съдържа следните данни.

|Тип |Подтип |Размер |Съдържание |Значение на съдържанието|
---|---|---|---|---|
|Магическо число (задължително)| | 4 байта |xof |
|Номер на версията (задължително) |Основно число |2 байта |03 |Основна версия 3|
| |Допълнителен номер |2 байта |02 |Допълнителна версия 2|
|Тип формат (задължително)| |4 байта |"txt" |Текстов файл|
| | | |"кошче"| Двоичен файл|
| | | |"цип"| MSZip компресиран текстов файл|
| | | |"bzip"| MSZip компресиран двоичен файл|
|Размер на поплавъка (задължително)| |4 байта| 0064| 64-битови floats|
| | | |0032 |32-битови плаващи числа|


## Препратки

* [X Files Legacy](https://learn.microsoft.com/en-us/windows/win32/direct3d9/x-files--legacy-)
* [Справка за файлов формат DirectX 9](https://learn.microsoft.com/en-us/windows/win32/direct3d9/dx9-graphics-reference-x-file-format)

