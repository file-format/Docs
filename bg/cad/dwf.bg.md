{
  "date" : "2020-03-16",
  "keywords" :[ "DWF", "Файлов формат", "Отвори", "Четене", "Създаване", "CAD" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "description" :"Научете повече за DWF файловия формат и API, които могат да създават и отварят DWF файлове.",
  "title" :"DWF файлов формат",
  "linktitle" : "DWF",
  "menu" : {
    "docs" : {
      "parent" : "cad"
}
},
  "lastmod" : "2019-09-10"
}

## Какво е DWF файл?

Design Web Format (DWF) представлява 2D/3D чертеж в компресиран формат за преглед, преглед или отпечатване на файлове с дизайн. Той съдържа графики и текст като част от проектните данни и намалява размера на файла поради своя компресиран формат. Намаленият размер на файла прави разпространението и комуникацията на богати данни за проектиране ефективно. DWF не изисква от получателя да знае за използването на CAD софтуер, който е създал оригиналния чертеж. Съдържанието на файловия формат DWF може да бъде просто и да включва само един лист или достатъчно сложно, за да има шрифтове, цвят и изображения.

## Кратка история ##

Autodesk представи файловия формат DWF през 1995 г. като част от плъгина за Netscape Navigation, WHIP. Форматът еволюира от формат само за 2D, за да включва 3D съдържание с течение на времето. Много приложения на трети страни също използват този формат.

## DWF файлов формат ##

DWF е отворен, защитен формат, създаден специално за споделяне на богати данни за инженерния дизайн. Той е независим от оригиналния приложен софтуер, хардуер и операционна система, използвани за създаване на тези проектни данни. Това позволява на членовете на екипа, които не използват CAD приложения, да участват в дигиталните процеси, като разглеждат проекти на сгради, ГИС или продукти. Архивът на DWF файл се състои от няколко XML и двоични файла, които са пакетирани заедно в компресиран архив, създаден с [ZIP](/bg/compression/zip/) компресия. Можете да преименувате разширение на DWF файл на ZIP и да прегледате съдържанието на файла. Пакетът DWF може да съдържа много видове данни за проектиране като 2D графики, 3D графики, метаданни за пакети и секции и други файлове с ресурси.

**DWF файлове с метаданни** – XML файлове, които съдържат информация, отнасяща се до метаданни и структура (автор, заглавие, време на създаване, зависимости на секциите, подреждане на секциите, описания на ресурсни файлове, роли, MIME типове и т.н.) и отнасящи се до секцията (страница информация, метаданни за дизайн и др.). Структурните метаданни се използват за създаване на логически обекти (колекции от файлове за представяне на част или страница и т.н.).

**Ресурсни файлове** – мултимедийни или други файлове със съдържание, които са посочени от метаданните на пакета/раздела и обикновено са презентации на проектни данни в различни формати (ZGL, W2D, [JPG](/bg/image/jpeg/), [PNG](/bg/image/png/), AVI, XML, [TXT](/bg/word-processing/txt/), [DOC](/bg/word-processing/doc/) и др.)

### Подробности за файловия формат ###

DWF файловете са организирани в три основни секции, както е показано по-долу.

* Заглавка за идентификация на файла
* Файлов блок с данни
* Трейлър за прекратяване на файлове

#### Заглавка на файловия идентификатор ####

Заглавката на файловия идентификатор позволява идентифициране на DWF файлове от приложения. Той също така идентифицира коя версия на DWF спецификациите е използвана за кодиране на файла. Това е 12-байтово заглавие, което е подредено както следва:


|Байт|0|1|2|3|4|5|6|7|8|9|10|11
--- | --- |--- | --- |--- | --- |--- | --- |--- | --- |--- | --- |--- |
|Знак|(|D|W|F|(интервал)|V|0|0|.|3|0|)

Ето обобщение на тази таблица:

* Първите шест байта от заглавката винаги представляват ASCII символи "(DWF V"
* Следващите 5 байта съдържат информация за номера на версията, напр. "00.30" с основната и второстепенната стойност на версията на формата

Приложенията, създаващи DWF файл, трябва да посочват най-ниския възможен номер на версия, който приложението за четене трябва да поддържа, за да използва правилно данните.

#### Файлов блок с данни ####

Блокът с данни на файла започва от 13-ия байт на DWF файл и представлява поредица от двойки операнд и операнд, както в следващата таблица.

|Поле 1|Поле 2|Поле 3|Поле 4|Поле 5|Поле 5
--- | --- |--- | --- |--- | --- |
|opcode|операнд|opcode|операнд|opcode|операнд

DWF файлът може да съдържа двойки опкод-операнд като четлив ASCII, както и двоичен код или комбинация от двете. Всички DWF операции имат четим ASCII код на операция/операнд, а повечето операции също имат кодиран двоичен код на операция/операнд. Операционните кодове са в един байт, което позволява над 200 операции. Разширеният ASCII и разширеният двоичен код са изключителни случаи. Стойностите на Opcodes могат да варират от 0-255 с някои изключения. С изключение на двата специални типа кодове за операции, разширен ASCII и разширен двоичен файл, четецът на файлове трябва да знае как да изчисли дължината на операнда.

##### Забранени кодове за операции #####

ASCII представянията за следното не могат да се използват като кодове за операции:

Следните ASCII представяния не могат да се използват като кодове за операции:

* Интервал (0x20)
* Раздел (0x09)
* Тире (0x2D)
* ASCII цифри 0-9 (0x30 - 0x39)
* Връщане на каретка (0x0D)
* Подаване на ред (0x0A)
* Единична кавичка (0x27)
* Двойни кавички (0x22)
* Точка (0x2E)
* Скоби (0x28 и 0x29)
* Къдрави скоби (0x7B и 0x7D)
* Квадратни скоби (0x5B и 0x5D)
* Наклонена черта назад (0x5C)

#### Трейлър за прекратяване на файлове ####

Трейлърът за прекратяване на файла за DWF е просто специален код за операция, указващ края на файла. Някои приложения могат да съхраняват не-DWF данни след кода за операция за прекратяване. Трейлърът е както е показано по-долу:


|Байт|0|1|2|3|4|5|6|7|8|9
---|---|---|---|---|---|---|---|---|---|---|
|Знак|(|E|n|d|0|f|D|W|F|)

## Препратки ##

* [DWF – от Wikipedia](https://en.wikipedia.org/wiki/Design_Web_Format)
* [Формат на данни WHIP](http://paulbourke.net/dataformats/whip/)
* [https://learn.microsoft.com/en-us/archive/blogs/opc/adventures-in-packaging-episode-1](https://learn.microsoft.com/en-us/archive/blogs/opc/adventures-in-packaging-episode-1)

