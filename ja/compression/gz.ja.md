{
  "date" : "2019-10-11",
  "keywords" :[ "gz ファイル", "gz ファイル形式", "gz ファイルとは", "ファイル", "gz 例", "gz ファイル拡張子","拡張子", "形式" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"GZ ファイル形式 - GNU Zip アーカイブ ファイル",
  "description":"GZ ファイルとは何か,および GZ ファイルを作成して開くことができる API について学びます。",
  "linktitle" : "GZ",
  "menu" : {
    "docs" : {
      "parent" : "compression"
}
},
  "lastmod" : "2019-09-10"
}

## .GZ オプション番号

GZ ファイルは、標準の [gzip](https://en.wikipedia.org/wiki/Gzip) (GNU zip) 圧縮アルゴリズムを使用して作成された圧縮アーカイブです。複数の圧縮ファイル、ディレクトリ、およびファイル スタブが含まれる場合があります。この形式は当初、UNIX システムの圧縮形式を置き換えるために開発されました。 Linux システムで最も一般的なアーカイブ タイプの 1 つです。 [WinZip](https://www.winzip.com/en/) などのアプリケーションは、Windows と MacOS の両方で GZ ファイルを開いてその内容を表示できます。

## GZ ファイル形式 - 詳細情報

Gzip はアーカイブの圧縮に [DEFLATE](https://en.wikipedia.org/wiki/DEFLATE) アルゴリズムを使用し、完全なアーカイブに圧縮アルゴリズムを適用する点で [ZIP](/compression/zip/) アーカイブ形式とは異なります。個々のファイルではなく。 Internet Engineering Task Force (IETF) によって発行された GZIP ファイル形式仕様バージョン 4.3 には、ファイル形式に関する詳細情報が含まれています。ファイル形式は次のもので構成されます。

* ファイルヘッダー
* オプションのヘッダー
* 圧縮データ
* ファイルフッター

## GZ ファイル ヘッダー ##

GZ ファイルのヘッダーは、次の 10 バイトで構成されます。

|オフセット|サイズ|値|説明
---|---|---|---|
|0|2|0x1f 0x8b|ファイルタイプを識別するマジックナンバー
|2|1| |圧縮方法 * 0-7 (予約済み) * 8 (収縮)
|3|1| |ファイル フラグ
|4|4| |32 ビットのタイムスタンプ
|8|1| |圧縮フラグ
|9|1| |オペレーティング システム ID

### ファイルフラグ ###

|値|識別子|説明
---|---|---|
|0x01|FTEXT|設定されている場合、圧縮されていないデータをバイナリ データではなくテキストとして扱う必要があります。このフラグは、クロスプラットフォーム テキスト ファイルの行末変換を示唆しますが、強制しません。
|0x02|FHCRC|ファイルにはヘッダー チェックサム (CRC-16) が含まれています
|0x04|FEXTRA|ファイルには余分なフィールドが含まれています
|0x08|FNAME|ファイルには元のファイル名文字列が含まれています
|0x10|FCOMMENT|ファイルにはコメントが含まれています
|0x20| |予約済み
|0x40| |予約済み
|0x80| |予約済み

＃＃＃ オペレーティング·システム ＃＃＃

|値|説明
---|---|
|0|FAT ファイルシステム (MS-DOS、OS/2、NT/Win32)
|1|アミガ
|2|VMS (または OpenVMS)
|3|ユニックス
|4|VM/CMS
|5|アタリ TOS
|6|HPFS ファイルシステム (OS/2、NT)
|7|マッキントッシュ
|8|Z-システム
|9|CP/M
|10|TOPS-20
|11|NTFS ファイルシステム (NT)
|12|QDOS
|13|どんぐりRISCOS
|255|不明

## GZ オプションヘッダー ##

オプションの追加ヘッダーは、ファイル フラグで示されるもので、元のファイル名、追加フィールド、コメント、ヘッダー チェックサムなどの情報が含まれます。

## 圧縮データ ##

このセクションには、DEFLATE 圧縮アルゴリズムを使用して圧縮されたデータが含まれます。

## GZ ファイルのフッター ##

ファイル フッターのサイズは 8 バイトで、次の情報が含まれています。

|オフセット|サイズ|説明
---|---|---|
|0|4|チェックサム (CRC-32)
|4|4|圧縮されていないデータ サイズの値 (バイト単位)

## 参照 ##

* [gzip - ウィキペディア](https://en.wikipedia.org/wiki/Gzip)
* [RFC1952: GZIP ファイル形式仕様](https://datatracker.ietf.org/doc/html/rfc1952)、IETF による。

