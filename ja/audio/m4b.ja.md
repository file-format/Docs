{
  "date" : "2021-06-09",
  "keywords" :[ "m4b","mp3","ファイル","拡張子","形式","m4bファイル形式とは","音楽","m4bファイル形式","M4bとMP3","m4bファイル形式の仕様" ],
  "author" : {
    "display_name" : "Muhammad Umar"
},
  "draft" : "false",
  "toc" : true,
  "description" :"M4B ファイル形式と,M4B ファイルを作成,変換,開くことができる API について学びます。",
  "title" :"M4B - MPEG-4 オーディオブック ファイル形式",
  "linktitle" : "M4B",
  "menu" : {
    "docs" : {
      "parent" : "audio"
}
},
  "lastmod" : "2021-06-09"
}

## M4B ファイルとは?

拡張子が .m4b のファイルは、Apple Books や iTunes で一般的に使用されるオーディオブックです。この形式で使用されるオーディオは MPEG-4 で保存され、AAC エンコードを使用して圧縮されます。 M4B ファイルは M4A に非常に似ていますが、ブックマークや章区切りなどのオーディオブック関連の機能をサポートしています。 M4B ファイルは、DRM 対応バージョンと DRM フリー バージョンの両方で利用できます。 DRM で暗号化されたオーディオブックは、通常、iTunes Store からの有料オーディオブックです。一方、DRM フリーはインターネット上で簡単に見つけることができます。

## M4B ファイル形式

メタデータ、画像、ブックマーク、およびハイパーリンクを含むオーディオブック ファイルは .m4a 拡張子で保存できますが、通常、ファイルがオーディオブック ファイル形式であることを指定するためだけに、保存時に .m4b 拡張子が使用されます。 Fairplay DRM (デジタル著作権管理) は、申請者が M4B ファイルを保護するために使用します。そのため、iTunes からダウンロードしたファイルは、承認されたデバイスまたはコンピューターでのみ再生できます。


## M4B vs M4A

M4B と [MP3](/audio/mp3/) はどちらも音声のみのファイル形式です。

**M4B**: 両方を同じビット レートでエンコードした場合、品質の点で MP3 と比較した場合に勝ちます。 M4B は、AAC エンコーディングを使用して圧縮されたオーディオブック ファイルです。基本的に「MPEG-4 オーディオ レイヤー」に関連付けられています。拡張子が .m4b のファイルは、MPEG-4 ムービーのオーディオ レイヤーですが、オーディオブック関連の機能が追加されています。その目標は、MP3 を追い越し、オーディオ圧縮の新しい標準になることです。多くの点で MP3 に非常に近いですが、同じまたはさらに小さいファイル サイズでより良い品質を実現するために開発されました。 M4B 形式は、Apple によって最初に導入されました。フォーマット タイプは、Apple Lossless Encoder (ALE) としても実現されます。

したがって、現在、M4B は MP3 の主流の成功を収めることができませんでした。これは、オーディオ フォーマットがまだ一般的に再生可能ではないためです。

**Mp3**: 誰もがよく知っているデジタル オーディオ形式。シーンで最初の圧縮形式であり、音楽リスナーの間で非常に有名になりました。その主流の成功は非常に急速であるため、ファイルタイプは普遍的に再生でき、ハードウェアまたはソフトウェアのほとんどすべてと互換性があります.一般的には、M4A の方が音質が良くなりますが、それが本当かどうかにかかわらず、音質の違いは比較にならないものであり、MP3 ファイルを M4A ファイルに変換しようとするのは時間の無駄であると主張する人が多くいます。最後に、変換によって元の音質が失われるだけです。

## M4B ファイル形式の仕様

[M4A](/audio/m4a/) と同様に、M4B ファイルも連続したチャンクで構成されます。各チャンクには 8 バイトのヘッダーがあり、次のように細分されます。
- 4 バイトのチャンク サイズ (ビッグ エンディアン、上位バイトが最初)
- 4 バイトのチャンク タイプ - 定義済みの署名の 1 つ: 「ftyp」、「mdat」、「moov」、「pnot」、「moof」、「udta」、「uuid」、「free」、「ctab」、 "skip"、"jP2"、"wide"、"load"、"imap"、"matt"、"chap"、"kmat"、"clip"、"crgn"、"sync"、"tmcd"、"PICT "、"scpt"、"ssrc".

M4A と同様に、M4B の最初のチャンクはタイプ「ftype」になり、オフセット 8 にサブタイプがあります。サブタイプで定義された M4B は「M4B_」でなければなりません。

不明なタイプのチャンクが検出されるまでチャンクを繰り返し、M4B (MPEG-4 Audio) ファイルを構成します。

## 参考文献

* [MPEG-4 パート 14 - ウィキペディアによる](https://en.wikipedia.org/wiki/MPEG-4_Part_14)
* [MPEG-4 Part 14 オーディオ (M4A,M4B,M4P) フォーマットと復元例](https://www.file-recovery.com/m4a-signature-format.htm)

