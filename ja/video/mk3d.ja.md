{
  "date" : "2021-23-02",
  "author" : {
    "display_name" : "Muhammad Umar"
},
  "draft" : "false",
  "toc" : true,
  "title" :"MK3Dファイル形式",
  "keywords" :[ "mk3d", "matroska video", "mkv format", "stereoscopic 3d", "StereoMode", "video", "file", "format" ],
  "description":"Matroska によって作成されたステレオスコピック 3D ビデオの MK3D ファイル形式と,MK3D ファイルを作成して開くことができる API について学びます。",
  "linktitle" : "MK3D",
  "menu" : {
    "docs" : {
      "parent" : "video"
}
},
  "lastmod" : "2021-23-02"
}

## .MK3D ファイルとは? ##

MK3D ファイルは、Matroska ビデオ形式ファミリーに属します。これらのファイルは実際には、Matroska 3D 形式を使用して作成された **立体 3D** ビデオです。 MKV ファイル コンテナは、StereoMode フィールドの値を使用して、ステレオスコピック 3D ビデオの種類を定義します。シアンと赤の色 (AnaGlyph) を分離することで古いステレオ 3D ビデオを表示するために、StereoMode 値も使用できます。

## 技術的な詳細 ##
3D ビデオは、次の 2 つの方法で圧縮できます。

- 片目ごとに別々のトラック。
- 各アイ トラッキングを 1 つのトラックに結合します。

MKV ファイル コンテナーは、これらの両方をサポートします。

内部に 3D 素材がある方が簡単なシングル トラック ビデオの場合は、**StereoMode** フィールドを設定する必要があります。これは、飛行機がモノラルまたは左右結合トラックのどちらで組み立てられるかを決定します。次の StereoMode フィールド値のいずれかを使用できます。

|値 |説明 |
|---|---|
|0|モノ|
|1|並べて (左目が最初)|
|2|上下 (右目が最初)|
|3|上下 (左目が最初)|
|4|チェックボード (右が最初)|
|5|チェックボード (左が最初)|
|6|行インターリーブ (右が最初)|
|7|行インターリーブ (左が最初)|
|8|列インターリーブ (右が最初)|
|9|列インターリーブ (左が最初)|
|10|アナグリフ (シアン/赤)|
|11|並べて (右目が最初)|
|12|アナグリフ (グリーン/マゼンタ)|
|13|両眼を 1 つのブロックにまとめたもの (左目が最初) (フィールド シーケンシャル モード)|
|14|両眼を 1 つのブロックにまとめたもの (右目が最初) (フィールド シーケンシャル モード)|

複数のトラックの場合、MKV コンテナは各トラックの機能を個別に決定する必要があります。 **TrackCombinePlanes** を使用した **TrackOperation** は、ジョブを実行するために使用されます。


## 参照 ##

- [Matroska 仕様ノート](https://www.matroska.org/technical/notes.html)
- [ステレオ 3D ビデオと MK3D ファイルの MKV ファイル コンテナのサポート](https://3dvision-blog.com/5520-mkv-file-container-support-for-stereo-3d-video-and-the-mk3d-files/)

