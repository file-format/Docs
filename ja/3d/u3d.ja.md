{
  "date" : "2019-10-11",
  "keywords" :["u3dファイル","u3dファイル形式","u3dファイルとは","ファイル","u3d例","u3dファイル拡張子","拡張子","形式"],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"U3D - ユニバーサル 3D ファイル形式",
  "description":"U3D ファイル形式と,U3D ファイルを開いて作成できる API について学びます。",
  "linktitle" : "U3D",
  "menu" : {
    "docs" : {
      "parent" : "3d"
}
},
  "lastmod" : "2019-09-10"
}

## U3D ファイルとは?

**U3D** (Universal 3D) は、3D コンピュータ グラフィックス用の圧縮ファイル形式およびデータ構造です。三角形のメッシュ、ライティング、シェーディング、モーション データ、色と構造を持つ線と点などの 3D モデル情報が含まれています。この形式は、2005 年 8 月に [ ECMA-363](https://www.ecma-international.org/publications-and-standards/standards/ecma-363/) 標準として承認されました。3D [PDF](/pdf/) ドキュメントは U3D をサポートします。オブジェクトが埋め込まれており、Adobe Reader (バージョン 7 以降) で表示できます。

U3D 形式は、3 次元データの保存と交換のための普遍的な標準を確立するという目的を考慮して開発されました。ただし、この形式は、交換形式として使用されるのではなく、3D PDF のエンコードに主に使用されます。 Acrobat 3D は、サポートされている 3D ファイル タイプを PDF への変換時に U3D または PRC に変換します。

## U3D ファイル形式

U3D ファイルは、[ECMA-363](https://www.ecma-international.org/publications-and-standards/standards/ecma-363/) 参照ドキュメントで説明されているように 4 つの版を経たバイナリ ファイル形式であり、仕様が更新されています。各エディションで。 PDF ファイル標準 ISO-32000 は、許可された注釈およびマルチメディア タイプとして U3D を受け入れます。

U3D の初版では、ジオメトリ、色、テクスチャ、照明、ボーン、変換ベースのアニメーションなど、3D グラフィック プロパティの主要な表現に重点が置かれていました。第 2 版と第 3 版では、第 1 版のいくつかの正誤表が修正されました。第 3 版は、業界のソフトウェアで最も一般的に使用されているタイプです。第 4 版では、高次プリミティブ (曲面) の定義が提供されます。 [U3D 仕様](https://www.ecma-international.org/publications-and-standards/standards/ecma-363/) は、ECMA Web サイトでユーザーが参照できるようにオンラインで入手できます。

### U3D ファイルのデータ型

バイナリ ファイルには、U8、U16、U32、U64、I16、I32、F32、F64、および String のタイプが含まれます。

* U8 : 符号なし 8 ビット整数
* U16 : 符号なし 16 ビット整数
* U32 : 符号なし 32 ビット整数
* U64 : 符号なし 64 ビット整数
* I16 : 符号付き 16 ビット整数
* F32: IEEE 単精度浮動小数点。
* F64: IEEE 倍精度浮動小数点。
* 文字列: U3D ファイル内の文字列は、文字列内の文字の全長を定義する符号なし 16 ビット整数で始まります。文字列は常に大文字と小文字を区別して処理されます。

## U3D ファイル構造

U3D ファイルには一連のブロックが含まれています。各 U3D ファイルには、3 つの異なるタイプのブロックがあります。

* ファイル ヘッダー ブロック
* 宣言ブロック
* 継続ブロック

ローダーは、ブロック内のデータが不要な場合、またはそのブロック タイプのデコーダーが利用できない場合に、ブロックの終わりを判断します。

{{< figure src="../u3d.png" alt="U3D ファイル形式" >}}

### ファイル ヘッダー ブロック
ファイル ヘッダー ブロックには、ロードされた がファイルの読み取り方法を決定するために使用するファイル情報が含まれています。

### 宣言ブロック

宣言ブロックには、ファイル内のオブジェクトに関する情報が含まれています。宣言ブロック内のオブジェクトは定義されている必要があります。

### 継続ブロック

Declaration ブロックで宣言されたオブジェクトの追加情報は、継続ブロックで提供されます。各継続ブロックは、宣言ブロックに関連付ける必要があります。


## 参照 ##

* [U3D ファイル形式 - ウィキペディア](https://en.wikipedia.org/wiki/Universal_3D)
※【ECMA U3Dファイルフォーマット仕様】(https://www.ecma-international.org/publications/standards/Ecma-363.htm)

