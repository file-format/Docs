{
  "date" : "2021-06-29",
  "keywords" :[ "ICNS", "extension", "file", "format", "image", "Apple Icon Image", "macOS", "Apple", "Icon" ],
  "author" : {
    "display_name" : "Sami Cheema"
},
  "draft" : "false",
  "toc" : true,
  "title" :"ICNS - Apple アイコン画像",
  "description":"ICNS ファイル形式と,ICNS ファイルを作成して開くことができる API について学びます。",
  "linktitle" : "ICNS",
  "menu" : {
    "docs" : {
      "parent" : "image"
}
},
  "lastmod" : "2021-06-29"
}

## .ICNS オプション番号##

macOS プログラムで使用されるアイコン形式は、ICNS ファイルと呼ばれます。 1 ビットと 8 ビットのアルファ バンドを使用でき、通常は [PNG](/image/png) ドキュメントから作成された 1 つまたは複数の画像を保存します。 macOS ブラウザとインターフェイスのプログラム アイコンは、ICNS ファイルを使用して表示されます。

場所に基づいて、同じスタイル アイコンに複数の設定を含めることができます。 ICNS 形式は多くの変更を経て、さまざまな互換性のある形式の基盤として使用できるようになりました。知っておく必要があるその他の重要なポイントを次に示します。

* IconFamily リソース、Macintosh アイコン、Macintosh OS X アイコン、Mac OS アイコン、Apple アイコン、Mac OS X アイコン リソース、および Mac OS アイコン リソースは、他の名前の一部です。
※アイコン情報はリソースブランチ内のソースを使用しています。
※多くの場合、ファイルには多数の画像が含まれています。サポートされている画像サイズは、1612 ピクセルの正方形と 1024、512、256、128、48、32、および 16 ピクセルの正方形です。


## ICNS ファイル形式 ##

ICNS データ形式は、1 つまたは複数の画像のカプセルであり、1 ビット バンドと多数の画像状態をサポートします。
オペレーティング システムは、必要な表示サイズに合わせてアイコン ピクチャのサイズを変更できます。大きなアイコン画像は通常、[JPEG](/image/jpeg/) 2000 または [PNG](/image/png) ファイルとして保存されます。圧縮された ICNS ファイルと圧縮されていない ICNS ファイルの両方のタイプが可能です。

ICNS ファイルの構造は、ヘッダーとバイナリ アイコン データで構成されます。ヘッダーには 8 バイトのデータが含まれており、そのうち 4 バイトはマジック リテラルで、4 バイトはファイルの長さです。各アイコン画像のタイプとサイズは、アイコン データ セクションに格納され、その後にバイナリ イメージ データが続きます。ピクチャ サイズによって、バイナリ セクションのサイズが決まります。

## 技術仕様 ##

### ヘッダー ###

|オフセット|サイズ|目的
---|---|---|
|0|4|魔法のリテラル、「icns」でなければなりません (0x69、0x63、0x6e、0x73)
|4|4|ファイルの長さ (バイト単位、msb ファースト)


### アイコンデータ ###

|オフセット|サイズ|目的
---|---|---|
|0|4|アイコンの種類
|4|4|バイト単位のデータの長さ (タイプと長さを含む)、msb ファースト
|8|変数|アイコンデータ

### 圧縮 ###

ピクセルデータはある程度圧縮されます。 32 ビット ("is32"、"il32"、"ih32"、"it32") および ARGB ("ic04"、"ic05") ピクセルは、多くの場合、PackBits と同様の方法で (チャネルごとに) 圧縮されます。

|リード値|テールバイト|結果 (非圧縮)
---|---|---|
|0 - 127|1 - 128|1 - 128 バイト
|128 - 255|1 バイト|3 - 130 コピー

## 参照 ＃＃

* [ICNS - ウィキペディア](https://en.wikipedia.org/wiki/Apple_Icon_Image_format)

