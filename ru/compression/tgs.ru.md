{
  "date" : "2019-10-11",
  "keywords" :[ "файл tgs", "формат файла tgs", "что такое файл tgs", "файл", "пример tgs", "расширение файла tgs", "расширение", "формат" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"TGS — формат файла анимированных стикеров Telegram",
  "description":"Узнайте о формате файла TGS и API-интерфейсах, которые могут создавать и открывать файлы TGS.",
  "linktitle" : "TGS",
  "menu" : {
    "docs" : {
      "parent" : "compression"
}
},
  "lastmod" : "2021-04-02"
}

## .TGS вариант №

Файл с расширением .tgs представляет собой анимированный стикер, представленный кроссплатформенной службой обмена сообщениями [Telegram](https://core.telegram.org/stickers#animated-stickers). Анимированные стикеры используются пользователями приложений для обмена сообщениями для отправки более расширенного и живого контента в сообщениях, в отличие от статической графики, которая представляет собой неподвижные изображения. Telegram изначально использовал формат файла [WEBP](/ru/image/webp/) для наклеек с неподвижными изображениями. Формат файла TGS может хранить данные анимации с более высоким разрешением и меньшим размером файла по сравнению со статическими наклейками WEBP. Файлы TGS можно открывать с помощью таких приложений, как Telegram, 7-zip, Apple Archive Utility и Corel WinZip.

## Формат файла TGS

Telegram представил формат файла TGS еще в июле 2019 года на основе библиотеки Lottie. Файл TGS состоит из текста [JSON](/ru/web/json/), который экспортируется из анимации в Adobe After Effects. Экспортированный текст JSON сжимается с помощью сжатия gzip, что уменьшает размер файла. Информация JSON о текстовом файле хранится в текстовом файле, что становится основой высокой степени сжатия.

### Характеристики наклеек TGS

Формат файла TGS накладывает определенные ограничения на создание анимированных стикеров TGS. Анимированный файл TGS:

* Размер стикера/холста должен быть 512х512 пикселей.
* Объекты наклейки не должны покидать холст.
* Продолжительность анимации не должна превышать 3 секунд.
* Все анимации должны быть зациклены.
* Размер стикера после рендеринга в Bodymovin не должен превышать 64 КБ.
* Все анимации должны работать со скоростью 60 кадров в секунду.

### Пример текста TGS JSON

Образец анимированной наклейки в распакованном виде содержит следующее текстовое содержимое JSON.
```
$ head -c 200 animated-sticker
{"tgs":1,"v":"5.5.2","fr":60,"ip":0,"op":180,"w":512,"h":512,"nm":"C-07","ddd":0,"assets":[],"comps":[],"layers":[{"ddd":0,"ind":1,"ty":3,"nm":"master","sr":1,"ks":{"o":{"a":0,"k":0},"r":{"a":0,"k":0}
```
## Использованная литература ##

* [TGS](https://core.telegram.org/stickers#animated-stickers)
* [gzip — Википедия](https://en.wikipedia.org/wiki/Gzip)

