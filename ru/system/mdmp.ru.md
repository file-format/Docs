{
  "date" : "2022-08-19",
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "title" :"Файл MDMP — формат файла минидампа Windows",
  "description":"Узнайте о формате файла MDMP и API-интерфейсах, которые могут создавать и открывать файлы MDMP.",
  "linktitle" : "MDMP",
  "menu" : {
    "docs" : {
      "parent" : "system"
}
},
  "lastmod" : "2022-08-19"
}

## .MDMP вариант №

Файл MDMP представляет собой дамп памяти приложения в Microsoft Windows, который создается при аварийном закрытии или сбое приложения. Он содержит информацию и дампы данных, которые можно использовать для устранения причины сбоя. Файлы MDMP применимы к приложениям, созданным на любой платформе, такой как Java, C++, .NET и другие. В дополнение к MDMP,

Приложения, которые могут открывать файлы MDMP, включают отладчик Microsoft Visual Studio.

## Формат файла MDMP

Файлы MDMP сохраняются как двоичные файлы на диск и могут быть открыты с помощью отладчика Microsoft Visual Studio. Он содержит следующую информацию, помогающую определить причину сбоя.

* Детали стоп-сообщения, его параметры и другие данные
* Список загруженных драйверов
* Контекст процессора (PRCB) для процессора, который перестал работать
* Информация о процессе и контекст ядра (EPROCESS) для остановленного процесса
* Информация о процессе и контекст ядра (ETHREAD) для остановленного потока
* Стек вызовов режима ядра для остановленного потока

Эта информация помогает выяснить, что произошло, устранить проблему и предотвратить ее повторение.

### Анализ минидампа

Для создания файла дампа памяти Windows требуется файл подкачки на загрузочном томе. Файл подкачки создается на загрузочном томе и должен иметь размер не менее 2 мегабайт (МБ). Файл дампа создается при сбое приложения. В случае второй проблемы создается второй небольшой файл дампа памяти, в то время как предыдущий сохраняется. Имя файла дампа отличается, чтобы избежать перезаписи.

Windows хранит список всех файлов дампа памяти в папке %SystemRoot%\Minidump. Вы можете анализировать файлы MDMP, запустив их в отладчике Visual Studio, как указано в шагах ниже.

## Как открыть файл MDMP в Visual Studio?

Следующие шаги можно использовать для открытия файла MDMP в Visual Studio.

* В Visual Studio в меню «Файл» выберите «Открыть | Аварийный дамп.
* Перейдите к файлу дампа, который вы хотите открыть.
* Выберите Открыть.

## Ссылка

* [Как прочитать небольшой файл дампа памяти, созданный Windows, в случае сбоя](https://learn.microsoft.com/en-us/troubleshoot/windows-client/performance/read-small-memory-dump -файл)

