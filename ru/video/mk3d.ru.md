{
  "date" : "2021-23-02",
  "author" : {
    "display_name" : "Muhammad Umar"
},
  "draft" : "false",
  "toc" : true,
  "title" :"Формат файла MK3D",
  "keywords" :[ "mk3d", "матроска видео", "формат mkv", "стереоскопическое 3d", "StereoMode", "видео", "файл", "формат" ],
  "description":"Узнайте о формате файлов MK3D для стереоскопических 3D-видео, созданных Matroska, и API-интерфейсах, которые могут создавать и открывать файлы MK3D.",
  "linktitle" : "MK3D",
  "menu" : {
    "docs" : {
      "parent" : "video"
}
},
  "lastmod" : "2021-23-02"
}

## .MK3D вариант № ##

Файлы MK3D относятся к семейству видеоформатов Matroska. Эти файлы на самом деле являются **стереоскопическими 3D** видео, созданными в формате Matroska 3D. Контейнер файла MKV использует значение поля StereoMode для определения типа стереоскопического 3D-видеоматериала. Значение StereoMode также доступно для отображения старых стереофонических 3D-видео путем разделения голубого и красного цветов (AnaGlyph).

## Технические подробности ##
3D-видео можно сжать двумя способами:

- Отдельный трек для каждого глаза.
- Объедините каждое отслеживание взгляда в одну дорожку.

Файловый контейнер MKV поддерживает оба этих варианта.

Для однодорожечных видео, которые проще с 3D-материалом внутри них, вы должны установить поле **StereoMode**, которое решает, будут ли плоскости собраны в моно или в левый и правый комбинированный трек. Вы можете использовать одно из следующих значений поля StereoMode:

|Значение | Описание |
|---|---|
|0| моно|
|1| бок о бок (сначала левый глаз)|
|2| сверху-снизу (первым правый глаз)|
|3| сверху-снизу (левый глаз первый)|
|4| шахматная доска (справа первая)|
|5| шахматная доска (слева первая)|
|6| ряд чередуется (правый первый)|
|7| ряд чередуется (слева первый)|
|8| столбец чередуется (правый первый) |
|9| столбец чередуется (слева первый) |
|10| анаглиф (голубой/красный)|
|11| бок о бок (правый глаз первый)|
|12| анаглиф (зеленый/пурпурный)|
|13| оба глаза объединены в один блок (левый глаз первый) (последовательный режим полей)|
|14| оба глаза объединены в один блок (первый правый глаз) (последовательный режим полей)|

Для нескольких дорожек контейнер MKV должен определять функциональность каждой дорожки отдельно. Для выполнения этой работы используются **TrackOperation** с **TrackCombinePlanes**.


## Использованная литература ##

- [Примечания к спецификации Matroska](https://www.matroska.org/technical/notes.html)
- [Поддержка файлового контейнера MKV для стерео 3D-видео и файлов MK3D](https://3dvision-blog.com/5520-mkv-file-container-support-for-stereo-3d-video-and-the-mk3d- файлы/)

