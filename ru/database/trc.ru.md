{
  "date" : "2021-08-24",
  "keywords" :[ "файл trc", "формат файла trc", "что такое файл trc", "файл", "пример trc", "расширение файла trc", "расширение", "формат" ],
  "author" : {
    "display_name" : "Muhammad Umar"
},
  "draft" : "false",
  "toc" : true,
  "description" :"Узнайте о формате файла TRC и API-интерфейсах, которые могут создавать и открывать файлы TRC.",
  "title" :"TRC — файл трассировки SQL Server",
  "linktitle" : "TRC",
  "menu" : {
    "docs" : {
      "parent" : "database"
}
},
  "lastmod" : "2021-08-24"
}

## .TRC вариант №
Файл с расширением .trc содержит результаты трассировки активности базы данных Microsoft SQL Server. Эти файлы создаются программным обеспечением SQL Server Profiler; обычно поставляется с программным обеспечением Microsoft SQL Server. Администраторы базы данных могут анализировать последовательность операторов базы данных и просматривать журнал трассировки, если подозреваются какие-либо ошибки или предупреждения. Эти файлы обычно находятся в типичной папке LOG MSSQL внутри каталога Program Files в операционной системе Windows.

## TRC формат файла
Формат файла TRC используется SQL Server Profiler для автоматического создания новой трассировки недавно выполненных операторов сервером MS SQL. Профилировщик SQL Server использует шаблон по умолчанию для любой новой трассировки. Тем не менее, программное обеспечение включает в себя несколько предопределенных шаблонов для мониторинга определенных типов событий. Кроме того, SQL Server Profiler можно использовать для создания шаблонов, определяющих классы событий и столбцы данных для включения в трассировку.

### Предопределенные шаблоны
Вот список некоторых предопределенных шаблонов, включенных в SQL Server Profiler:
- **SP_Counts**: фиксирует поведение выполнения хранимой процедуры с течением времени.
- **Стандартный**: общая начальная точка для создания трассировки.
- **TSQL**: фиксирует все операторы Transact-SQL, отправленные на SQL Server клиентами, и время выдачи.
- **TSQL_Duration**: фиксирует все инструкции Transact-SQL, отправленные в SQL Server клиентами, время их выполнения и группирует их по длительности.
- **TSQL_Grouped**: используйте для исследования запросов от определенного клиента или пользователя.
- **TSQL_Locks**: используйте для устранения взаимоблокировок, тайм-аута блокировки и событий эскалации блокировки.
- **TSQL_Replay**: используйте для выполнения итеративной настройки, такой как тестирование производительности.
- **TSQL_SPs**: используйте для анализа шагов компонентов хранимых процедур.
- **Настройка**: используется для создания выходных данных трассировки, которые помощник по настройке ядра СУБД может использовать в качестве рабочей нагрузки для настройки баз данных.
### Сопоставление трассировки с данными журнала производительности Windows
Профилировщик SQL Server можно использовать для открытия журнала производительности Microsoft Windows, выбора счетчиков для сопоставления с трассировкой и отображения выбранных счетчиков производительности вместе с трассировкой в графическом интерфейсе профилировщика MS SQL Server. Чтобы указать данные журнала производительности, которые коррелируют с выбранным событием трассировки, вертикальная красная полоса в области окна данных системного монитора SQL Server Profiler.


## Использованная литература ##

* [Профилировщик SQL Server](https://learn.microsoft.com/en-us/sql/tools/sql-server-profiler/sql-server-profiler?view=sql-server-ver15)

