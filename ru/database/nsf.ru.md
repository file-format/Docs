{
  "date" : "2020-11-11",
  "keywords" :[ "NSF", "расширение", "файл", "формат файла", "Тип файла базы данных", "Формат файла базы данных", "Файлы базы данных" ],
  "author" : {
    "display_name" : "Kashif Iqbal"
},
  "draft" : "false",
  "toc" : true,
  "description" :"Узнайте о формате файлов NSF и API-интерфейсах, которые могут создавать и открывать файлы NSF.",
  "title" :"Формат файла NSF — формат базы данных Lotus Notes",
  "linktitle" : "NSF",
  "menu" : {
    "docs" : {
      "parent" : "database"
}
},
  "lastmod" : "2020-08-12"
}

## .NSF вариант №

Файл с расширением .nsf (Notes Storage Facility) — это формат файла базы данных, используемый [программным обеспечением IBM Notes] (https://en.wikipedia.org/wiki/HCL_Domino), который ранее был известен как Lotus Notes. Он определяет схему для хранения различных типов объектов, таких как электронные письма, встречи, документы, формы и представления. Вся эта информация содержится в одном файле NSF для совместной работы, аналогичном файлу PST/OST. Некоторые из приложений, которые могут открывать файлы NSF, включают IBM Lotus Notes и IBM Domino.

## Спецификации формата файла NSF

Файлы NSF являются бинарными по своей природе, и их спецификации доступны Иоахиму Метцу на [Github](https://github.com/libyal/libnsfdb/blob/main/documentation/Notes%20Storage%20Facility%20(NSF)%20database% 20file%20format.asciidoc). Согласно этим деталям, файл NSF состоит из:

* Заголовок файла
* Заголовок базы данных

Кроме того, он состоит из:

* Суперблок
* Блок дескриптора ковша
* Битовая карта
* Запись корзины вектора перемещения
* Суммарные сегменты
* Несуммарные сегменты


### Заголовок файла NSF

Заголовок файла NSF имеет размер 6 байт. Это состоит из:

|Смещение|Размер|Значение|Описание|
---|---|---|---|
0|2|0x1a 0x00|Подпись|
2|4| |Размер заголовка базы данных|

### Заголовок базы данных

Заголовок базы данных NSD содержит следующие подтвержденные значения.

* Информация о базе данных
* Идентификатор базы данных (DBID)
* Информация о репликации
* Флаги буфера информации базы данных
* Заголовок
* Категории
* Учебный класс
* Класс дизайна (имя шаблона)
* Специальные идентификаторы заметок
* Прокладка
* Информация о базе данных 2
* Информация о базе данных 3
* Информация о базе данных 4
* Информация о базе данных 5
* Прокладка
* Идентификатор экземпляра базы данных (DBIID)
* История репликации

## использованная литература

* [Формат NSF — Github] (https://github.com/libyal/libnsfdb/blob/main/documentation/Notes%20Storage%20Facility%20(NSF)%20database%20file%20format.asciidoc)

